namespace = magic_build_manager

magic_build_manager.0001 = {
    type = character_event
    title = magic_build_manager.0001.t
    desc = magic_build_manager.0001.desc
    theme = stewardship_domain_focus
    left_portrait = root

    option = {
        name = magic_build_manager.0001.enable
        trigger = { NOT = { has_character_flag = enable_magic_build } }
        add_character_flag = enable_magic_build
        trigger_event = clrbnit_magic.0003
    }
    option = {
        name = magic_build_manager.0001.enable_vassal
        trigger = { NOT = { has_character_flag = enable_vassal_magic_build } }
        add_character_flag = enable_vassal_magic_build
        trigger_event = clrbnit_magic.0003
    }
    option = {
        name = magic_build_manager.0001.disable
        trigger = {
            OR = {
                has_character_flag = enable_magic_build
                has_character_flag = enable_vassal_magic_build
            }
        }
        remove_character_flag = enable_magic_build
        remove_character_flag = enable_vassal_magic_build
        trigger_event = clrbnit_magic.0003 # Trigger build event after disabling too
    }
    option = {
        name = magic_build_manager.0001.exit
        custom_tooltip = magic_build_manager.0001.tip_exit
    }
}
