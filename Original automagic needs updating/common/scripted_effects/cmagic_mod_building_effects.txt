# ---- AUTO-GENERATED NO-OP FALLBACKS FOR MODDED BUILDING EFFECTS ----
add_agot_building_moat_building_effect = { }
add_mbrxxx_improvement_building_effect = { }
add_Angkor_building_effect = { }
add_Townsquare_building_effect = { }
add_a_heitudi_building_effect = { }
add_agot_apiaries_building_effect = { }
add_agot_arsenal_building_effect = { }
add_agot_ashford_tourney_grounds_building_effect = { }
add_agot_banefort_building_effect = { }
add_agot_barrow_keep_building_effect = { }
add_agot_bitterbridge_building_effect = { }
add_agot_blackhaven_building_effect = { }
add_agot_bleeding_tower_building_effect = { }
add_agot_bridge_of_skulls_building_effect = { }
add_agot_brightwater_moat_building_effect = { }
add_agot_broken_tower_building_effect = { }
add_agot_bronzegate_building_effect = { }
add_agot_btw_frostfang_crypts_building_effect = { }
add_agot_castamere_building_effect = { }
add_agot_castamere_ruins_building_effect = { }
add_agot_casterly_rock_building_effect = { }
add_agot_castle_black_building_effect = { }
add_agot_castle_building_effect = { }
add_agot_cider_hall_building_effect = { }
add_agot_city_building_effect = { }
add_agot_city_walls_building_effect = { }
add_agot_claw_isle_building_effect = { }
add_agot_cobblers_square_building_effect = { }
add_agot_cold_cradle_building_effect = { }
add_agot_crab_fields_building_effect = { }
add_agot_crakehall_building_effect = { }
add_agot_depleted_ironwood_building_effect = { }
add_agot_dragonmont_building_effect = { }
add_agot_dragonpit_building_effect = { }
add_agot_dragonpit_ruins_building_effect = { }
add_agot_dragonstone_building_effect = { }
add_agot_dreadfort_building_effect = { }
add_agot_driftmark_building_effect = { }
add_agot_drowned_town_building_effect = { }
add_agot_duskendale_building_effect = { }
add_agot_eastwatch_building_effect = { }
add_agot_evenfall_hall_building_effect = { }
add_agot_gates_of_the_moon_building_effect = { }
add_agot_generic_dragon_pit_building_effect = { }
add_agot_generic_great_sept_building_effect = { }
add_agot_ghaston_grey_building_effect = { }
add_agot_glass_gardens_building_effect = { }
add_agot_godsgrace_building_effect = { }
add_agot_godswood_building_effect = { }
add_agot_goldengrove_building_effect = { }
add_agot_grafton_keep_building_effect = { }
add_agot_grand_temple_of_gelenei_building_effect = { }
add_agot_grand_temple_of_trios_building_effect = { }
add_agot_great_wheel_building_effect = { }
add_agot_greywater_watch_building_effect = { }
add_agot_griffins_roost_building_effect = { }
add_agot_haggons_tower_building_effect = { }
add_agot_hardhome_building_effect = { }
add_agot_hardstone_hills_mines_building_effect = { }
add_agot_harlaw_mines_building_effect = { }
add_agot_harrenhal_building_effect = { }
add_agot_hellgate_hall_building_effect = { }
add_agot_high_heart_building_effect = { }
add_agot_highgarden_building_effect = { }
add_agot_hightide_building_effect = { }
add_agot_hoare_castle_building_effect = { }
add_agot_holy_site_great_sept_building_effect = { }
add_agot_holy_site_naggas_hill_building_effect = { }
add_agot_holy_site_starry_sept_building_effect = { }
add_agot_hugor_hill_building_effect = { }
add_agot_inn_at_the_crossroads_building_effect = { }
add_agot_inn_of_the_kneeling_man_building_effect = { }
add_agot_iron_bank_building_effect = { }
add_agot_ironoaks_building_effect = { }
add_agot_ironwood_building_effect = { }
add_agot_isle_of_the_gods_building_effect = { }
add_agot_karhold_building_effect = { }
add_agot_kingswood_brotherhood_building_effect = { }
add_agot_krih_tin_mines_building_effect = { }
add_agot_lann_sept_building_effect = { }
add_agot_large_ruin_building_effect = { }
add_agot_lighthouse_building_effect = { }
add_agot_lions_dock_building_effect = { }
add_agot_lonely_light_building_effect = { }
add_agot_lys_walls_building_effect = { }
add_agot_magister_harbor_building_effect = { }
add_agot_maris_motherhouse_building_effect = { }
add_agot_medium_ruin_building_effect = { }
add_agot_merling_port_building_effect = { }
add_agot_mines_of_the_tooth_building_effect = { }
add_agot_monastery_building_effect = { }
add_agot_monument_of_borderland_building_effect = { }
add_agot_morne_building_effect = { }
add_agot_mudgrave_building_effect = { }
add_agot_myr_building_effect = { }
add_agot_myr_cliffs_building_effect = { }
add_agot_myr_walls_building_effect = { }
add_agot_new_castle_building_effect = { }
add_agot_nightsong_building_effect = { }
add_agot_nunns_deep_mines_building_effect = { }
add_agot_nymeros_tower_building_effect = { }
add_agot_oldstones_building_effect = { }
add_agot_oldtown_walls_building_effect = { }
add_agot_orkmont_mines_building_effect = { }
add_agot_others_arrival_building_effect = { }
add_agot_palace_of_truth_building_effect = { }
add_agot_pendric_hills_mines_building_effect = { }
add_agot_pentos_building_effect = { }
add_agot_pentos_harbor_building_effect = { }
add_agot_pentos_walls_building_effect = { }
add_agot_perfumed_garden_building_effect = { }
add_agot_pirate_control_building_effect = { }
add_agot_pirate_den_building_effect = { }
add_agot_pirate_economic_building_effect = { }
add_agot_pirate_fortification_building_effect = { }
add_agot_pirate_military_building_effect = { }
add_agot_pirate_supply_building_effect = { }
add_agot_pirate_troop_building_effect = { }
add_agot_pit_of_snakes_building_effect = { }
add_agot_plankytown_building_effect = { }
add_agot_port_of_lys_building_effect = { }
add_agot_prison_of_lys_building_effect = { }
add_agot_pyke_building_effect = { }
add_agot_racallios_fort_building_effect = { }
add_agot_raventree_hall_building_effect = { }
add_agot_red_lake_building_effect = { }
add_agot_red_temple_lys_building_effect = { }
add_agot_red_temple_myr_building_effect = { }
add_agot_red_temple_pentos_building_effect = { }
add_agot_red_temple_tyrosh_building_effect = { }
add_agot_redfort_building_effect = { }
add_agot_redwyne_port_building_effect = { }
add_agot_rills_stables_building_effect = { }
add_agot_riverrun_building_effect = { }
add_agot_ruddy_hall_building_effect = { }
add_agot_ruin_building_effect = { }
add_agot_ruin_desolate_building_effect = { }
add_agot_ruin_flooded_building_effect = { }
add_agot_ruin_high_heart_building_effect = { }
add_agot_ruin_infamous_building_effect = { }
add_agot_ruin_renowned_building_effect = { }
add_agot_ruin_salted_earth_building_effect = { }
add_agot_ruin_wildfire_building_effect = { }
add_agot_ruins_fist_of_the_first_men_building_effect = { }
add_agot_ruins_harrenhal_building_effect = { }
add_agot_ruins_hellgate_hall_building_effect = { }
add_agot_ruins_hightide_building_effect = { }
add_agot_ruins_kingswood_brotherhood_building_effect = { }
add_agot_ruins_spicetown_building_effect = { }
add_agot_ruins_triarchy_council_building_effect = { }
add_agot_runestone_building_effect = { }
add_agot_ruthermont_building_effect = { }
add_agot_sandstone_building_effect = { }
add_agot_scholastic_guilds_building_effect = { }
add_agot_seagard_building_effect = { }
add_agot_sealords_palace_building_effect = { }
add_agot_sept_of_the_snows_building_effect = { }
add_agot_seven_gates_building_effect = { }
add_agot_seven_shrines_building_effect = { }
add_agot_shadow_tower_building_effect = { }
add_agot_silverhill_mines_building_effect = { }
add_agot_sisterton_building_effect = { }
add_agot_skyreach_building_effect = { }
add_agot_slave_camps_building_effect = { }
add_agot_slave_diplomacy_building_effect = { }
add_agot_slave_intrigue_building_effect = { }
add_agot_slave_learning_building_effect = { }
add_agot_slave_martial_building_effect = { }
add_agot_slave_stewardship_building_effect = { }
add_agot_small_ruin_building_effect = { }
add_agot_spicetown_building_effect = { }
add_agot_srunmued_copper_mines_building_effect = { }
add_agot_starfall_building_effect = { }
add_agot_starpike_building_effect = { }
add_agot_statue_of_trios_building_effect = { }
add_agot_steppe_farms_building_effect = { }
add_agot_stonedance_building_effect = { }
add_agot_stonehelm_building_effect = { }
add_agot_stoney_sept_building_effect = { }
add_agot_storms_end_building_effect = { }
add_agot_strongsong_building_effect = { }
add_agot_summerhall_building_effect = { }
add_agot_summerhall_ruins_building_effect = { }
add_agot_sunspear_building_effect = { }
add_agot_sweetwater_font_building_effect = { }
add_agot_temple_of_trade_building_effect = { }
add_agot_temple_of_yndros_building_effect = { }
add_agot_the_bloody_gate_building_effect = { }
add_agot_the_citadel_building_effect = { }
add_agot_the_eyrie_building_effect = { }
add_agot_the_heated_pools_building_effect = { }
add_agot_the_hightower_building_effect = { }
add_agot_the_red_keep_building_effect = { }
add_agot_the_shadow_city_building_effect = { }
add_agot_the_twins_building_effect = { }
add_agot_the_wall_building_effect = { }
add_agot_the_water_gardens_building_effect = { }
add_agot_thenn_great_circle_building_effect = { }
add_agot_thenn_great_kilns_building_effect = { }
add_agot_thenn_small_circle_building_effect = { }
add_agot_thenn_valley_building_effect = { }
add_agot_titan_building_effect = { }
add_agot_tower_of_joy_building_effect = { }
add_agot_tree_of_crowns_building_effect = { }
add_agot_triarchy_council_building_effect = { }
add_agot_tumbleton_building_effect = { }
add_agot_tyrosh_building_effect = { }
add_agot_tyrosh_walls_building_effect = { }
add_agot_upcliffs_haven_building_effect = { }
add_agot_urban_farms_building_effect = { }
add_agot_valdrizes_building_effect = { }
add_agot_vineyard_building_effect = { }
add_agot_vultures_roost_building_effect = { }
add_agot_warg_king_building_effect = { }
add_agot_wayfarers_rest_building_effect = { }
add_agot_weeping_tower_building_effect = { }
add_agot_whispers_building_effect = { }
add_agot_white_harbor_building_effect = { }
add_agot_winterfell_building_effect = { }
add_agot_witchs_wood_building_effect = { }
add_agot_wolfs_den_building_effect = { }
add_agot_yronwood_mines_building_effect = { }
add_apiaries_building_effect = { }
add_becp_regular_junyao_building_effect = { }
add_becp_regular_yueyao_building_effect = { }
add_building_moat_building_effect = { }
add_bunudui_building_effect = { }
add_car_building_effect = { }
add_casterly_rock_building_effect = { }
add_changshanyuchang_building_effect = { }
add_chayuan_building_effect = { }
add_civil_engineering_building_effect = { }
add_cobblers_square_building_effect = { }
add_conglinliechang_building_effect = { }
add_crockery_building_effect = { }
add_currier_building_effect = { }
add_czhen_building_effect = { }
add_daminggong_building_effect = { }
add_daye_mines_building_effect = { }
add_depleted_ironwood_building_effect = { }
add_dfwckuozhan_a_heitudi_building_effect = { }
add_dfwckuozhan_bunudui_building_effect = { }
add_dfwckuozhan_changshanyuchang_building_effect = { }
add_dfwckuozhan_chayuan_building_effect = { }
add_dfwckuozhan_conglinliechang_building_effect = { }
add_dfwckuozhan_dingjudian_building_effect = { }
add_dfwckuozhan_dongfangchengqiang_building_effect = { }
add_dfwckuozhan_gaoshanjudian_building_effect = { }
add_dfwckuozhan_heitudi_building_effect = { }
add_dfwckuozhan_jiaochang_building_effect = { }
add_dfwckuozhan_muchang_building_effect = { }
add_dfwckuozhan_nulishichang_building_effect = { }
add_dfwckuozhan_qianmutian_building_effect = { }
add_dfwckuozhan_shutian_building_effect = { }
add_dfwckuozhan_weibojun_building_effect = { }
add_dfwckuozhan_xinzeng_01_yidao_building_effect = { }
add_dfwckuozhan_xinzeng_02_yidao_building_effect = { }
add_dfwckuozhan_xinzeng_03_yidao_building_effect = { }
add_dingjudian_building_effect = { }
add_district_building_effect = { }
add_dongfangchengqiang_building_effect = { }
add_dragonpit_building_effect = { }
add_dragonpit_ruins_building_effect = { }
add_dragonstone_building_effect = { }
add_dujiangyan_building_effect = { }
add_embassy_building_effect = { }
add_expansion_archer_cavalry_building_effect = { }
add_expansion_building_effect = { }
add_expansion_camel_cavalry_building_effect = { }
add_farming_building_effect = { }
add_fayuan_building_effect = { }
add_gaoshanjudian_building_effect = { }
add_generic_dragon_pit_building_effect = { }
add_generic_great_sept_building_effect = { }
add_godswood_building_effect = { }
add_gold_mines_building_effect = { }
add_hardstone_hills_mines_building_effect = { }
add_harlaw_mines_building_effect = { }
add_harrenhal_building_effect = { }
add_hbm_building_effect = { }
add_heishi_building_effect = { }
add_heitudi_building_effect = { }
add_highgarden_building_effect = { }


add_holy_site_dashuyuan_building_effect = { }
add_holy_site_great_sept_building_effect = { }
add_holy_site_naggas_hill_building_effect = { }
add_holy_site_starry_sept_building_effect = { }
add_holy_site_wenmiao_building_effect = { }


add_hospital_building_effect = { }

add_improvement_building_effect = { }
add_interior_building_effect = { }
add_ironwood_building_effect = { }
add_jiaochang_building_effect = { }
add_jiaodong_mines_building_effect = { }
add_kongmiao_building_effect = { }
add_large_ruin_building_effect = { }
add_lcamp_building_effect = { }
add_liaodong_mines_building_effect = { }
add_liehu_building_effect = { }


add_longmenshiku_building_effect = { }

add_mbrxxx_Townsquare_building_effect = { }
add_mbrxxx_car_building_effect = { }
add_mbrxxx_civil_engineering_building_effect = { }
add_mbrxxx_crockery_building_effect = { }
add_mbrxxx_currier_building_effect = { }
add_mbrxxx_czhen_building_effect = { }
add_mbrxxx_district_building_effect = { }
add_mbrxxx_embassy_building_effect = { }
add_mbrxxx_expansion_archer_cavalry_building_effect = { }
add_mbrxxx_expansion_building_effect = { }
add_mbrxxx_expansion_camel_cavalry_building_effect = { }
add_mbrxxx_farming_building_effect = { }
add_mbrxxx_fayuan_building_effect = { }
add_mbrxxx_hbm_building_effect = { }
add_mbrxxx_heishi_building_effect = { }
add_mbrxxx_hospital_building_effect = { }
add_mbrxxx_interior_building_effect = { }
add_mbrxxx_lcamp_building_effect = { }
add_mbrxxx_liehu_building_effect = { }
add_mbrxxx_medicine_lodge_building_effect = { }
add_mbrxxx_mif_building_effect = { }
add_mbrxxx_muhou_building_effect = { }
add_mbrxxx_pimao_building_effect = { }
add_mbrxxx_restau_building_effect = { }
add_mbrxxx_shanqiu_building_effect = { }
add_mbrxxx_silk_building_effect = { }
add_mbrxxx_slaughterhouse_building_effect = { }
add_mbrxxx_spice_building_effect = { }
add_mbrxxx_stash_building_effect = { }
add_mbrxxx_supm_building_effect = { }
add_mbrxxx_support_building_effect = { }
add_mbrxxx_tavern_building_effect = { }
add_mbrxxx_ting_building_effect = { }
add_mbrxxx_town_building_effect = { }
add_mbrxxx_tribeport_building_effect = { }
add_mbrxxx_tunnel_building_effect = { }
add_mbrxxx_vineyard_building_effect = { }
add_mbrxxx_war_building_effect = { }
add_mbrxxx_waterfront_building_effect = { }
add_mbrxxx_zhanshi_building_effect = { }
add_medicine_lodge_building_effect = { }
add_medium_ruin_building_effect = { }
add_mif_building_effect = { }

add_mines_of_the_tooth_building_effect = { }
add_monastery_building_effect = { }

add_muchang_building_effect = { }
add_muhou_building_effect = { }
add_nulishichang_building_effect = { }
add_nunns_deep_mines_building_effect = { }
add_oe_Angkor_building_effect = { }
add_oe_becp_regular_junyao_building_effect = { }
add_oe_becp_regular_yueyao_building_effect = { }
add_oe_daminggong_building_effect = { }
add_oe_daye_mines_building_effect = { }
add_oe_dujiangyan_building_effect = { }
add_oe_gold_mines_building_effect = { }
add_oe_holy_site_dashuyuan_building_effect = { }
add_oe_holy_site_wenmiao_building_effect = { }
add_oe_jiaodong_mines_building_effect = { }
add_oe_kongmiao_building_effect = { }
add_oe_liaodong_mines_building_effect = { }
add_oe_longmenshiku_building_effect = { }
add_oe_sea_salt_mines_building_effect = { }
add_oe_sea_spice_plantation_building_effect = { }
add_oe_shaozhou_mines_building_effect = { }
add_oe_shence_building_effect = { }
add_oe_shoushan_mines_building_effect = { }
add_oe_silk_plantation_building_effect = { }
add_oe_silver_mines_building_effect = { }
add_oe_tea_plantation_building_effect = { }
add_oe_tiance_building_effect = { }
add_oe_weicheng_mines_building_effect = { }

add_orkmont_mines_building_effect = { }




add_pendric_hills_mines_building_effect = { }
add_pimao_building_effect = { }
add_pirate_den_building_effect = { }

add_pyke_building_effect = { }

add_qianmutian_building_effect = { }



add_restau_building_effect = { }
add_riverrun_building_effect = { }
add_ruin_building_effect = { }
add_ruin_desolate_building_effect = { }
add_ruin_flooded_building_effect = { }
add_ruin_infamous_building_effect = { }
add_ruin_renowned_building_effect = { }
add_ruin_salted_earth_building_effect = { }
add_ruin_wildfire_building_effect = { }
add_ruins_harrenhal_building_effect = { }

add_sea_salt_mines_building_effect = { }
add_sea_spice_plantation_building_effect = { }
add_seven_gates_building_effect = { }
add_shanqiu_building_effect = { }
add_shaozhou_mines_building_effect = { }
add_shence_building_effect = { }
add_shoushan_mines_building_effect = { }
add_shutian_building_effect = { }
add_silk_building_effect = { }
add_silk_plantation_building_effect = { }
add_silver_mines_building_effect = { }
add_silverhill_mines_building_effect = { }
add_slaughterhouse_building_effect = { }
add_small_ruin_building_effect = { }

add_spice_building_effect = { }

add_stash_building_effect = { }
add_storms_end_building_effect = { }
add_sunspear_building_effect = { }
add_supm_building_effect = { }
add_support_building_effect = { }
add_tavern_building_effect = { }
add_tea_plantation_building_effect = { }

add_the_bloody_gate_building_effect = { }
add_the_citadel_building_effect = { }
add_the_eyrie_building_effect = { }
add_the_hightower_building_effect = { }
add_the_red_keep_building_effect = { }
add_the_twins_building_effect = { }
add_tiance_building_effect = { }
add_ting_building_effect = { }
add_town_building_effect = { }
add_tribeport_building_effect = { }
add_tunnel_building_effect = { }
add_vineyard_building_effect = { }
add_war_building_effect = { }



add_waterfront_building_effect = { }

add_weibojun_building_effect = { }
add_weicheng_mines_building_effect = { }


add_winterfell_building_effect = { }

add_xinzeng_01_yidao_building_effect = { }
add_xinzeng_02_yidao_building_effect = { }
add_xinzeng_03_yidao_building_effect = { }
add_yronwood_mines_building_effect = { }
add_zhanshi_building_effect = { }

# ---- ORIGINAL FILE BELOW ----
########## More Buildings Reboot (and More building++) SUPPORT ##########
# if = {
#     limit = { mod_is_active = "2943715129" }
    add_mbrxxx_improvement_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = improvement_01 }
                NOT = { has_building = improvement_02 }
                NOT = { has_building = improvement_03 }
                NOT = { has_building = improvement_04 }
                NOT = { has_building = improvement_05 }
                NOT = { has_building = improvement_06 }
                NOT = { has_building = improvement_07 }
                NOT = { has_building = improvement_08 }
                building_requirement_tribal = no
            }
            add_building = improvement_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = improvement_01
                has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = improvement_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = improvement_02
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = improvement_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = improvement_03
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = improvement_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = improvement_04
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = improvement_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = improvement_05
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = improvement_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = improvement_06
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = improvement_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = improvement_07
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = improvement_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_improvement = yes
    }
    add_mbrxxx_expansion_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = expansion_01 }
                NOT = { has_building = expansion_02 }
                NOT = { has_building = expansion_03 }
                NOT = { has_building = expansion_04 }
                NOT = { has_building = expansion_05 }
                NOT = { has_building = expansion_06 }
                NOT = { has_building = expansion_07 }
                NOT = { has_building = expansion_08 }
                building_requirement_tribal = no
            }
            add_building = expansion_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = expansion_01
                has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = expansion_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = expansion_02
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = expansion_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = expansion_03
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = expansion_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = expansion_04
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = expansion_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = expansion_05
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = expansion_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = expansion_06
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = expansion_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = expansion_07
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = expansion_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_expansion = yes
    }
    add_mbrxxx_expansion_camel_cavalry_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = expansion_camel_cavalry_01 }
                NOT = { has_building = expansion_camel_cavalry_02 }
                NOT = { has_building = expansion_camel_cavalry_03 }
                NOT = { has_building = expansion_camel_cavalry_04 }
                NOT = { has_building = expansion_camel_cavalry_05 }
                NOT = { has_building = expansion_camel_cavalry_06 }
                NOT = { has_building = expansion_camel_cavalry_07 }
                NOT = { has_building = expansion_camel_cavalry_08 }
                building_camel_farms_requirement_terrain = yes
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = expansion_camel_cavalry_01
                has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = expansion_camel_cavalry_02
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = expansion_camel_cavalry_03
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = expansion_camel_cavalry_04
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = expansion_camel_cavalry_05
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = expansion_camel_cavalry_06
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = expansion_camel_cavalry_07
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = expansion_camel_cavalry_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_expansion_camel_cavalry = yes
    }
    add_mbrxxx_expansion_archer_cavalry_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = expansion_archer_cavalry_01 }
                NOT = { has_building = expansion_archer_cavalry_02 }
                NOT = { has_building = expansion_archer_cavalry_03 }
                NOT = { has_building = expansion_archer_cavalry_04 }
                NOT = { has_building = expansion_archer_cavalry_05 }
                NOT = { has_building = expansion_archer_cavalry_06 }
                NOT = { has_building = expansion_archer_cavalry_07 }
                NOT = { has_building = expansion_archer_cavalry_08 }
                building_horse_pastures_requirement_terrain = yes
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = expansion_archer_cavalry_01
                has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = expansion_archer_cavalry_02
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = expansion_archer_cavalry_03
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = expansion_archer_cavalry_04
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = expansion_archer_cavalry_05
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = expansion_archer_cavalry_06
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = expansion_archer_cavalry_07
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = expansion_archer_cavalry_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_expansion_archer_cavalry = yes
    }
    add_mbrxxx_interior_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = interior_01 }
                NOT = { has_building = interior_02 }
                NOT = { has_building = interior_03 }
                NOT = { has_building = interior_04 }
                NOT = { has_building = interior_05 }
                NOT = { has_building = interior_06 }
                NOT = { has_building = interior_07 }
                NOT = { has_building = interior_08 }
                building_requirement_tribal = no
            }
            add_building = interior_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = interior_01
                has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = interior_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = interior_02
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = interior_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = interior_03
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = interior_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = interior_04
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = interior_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = interior_05
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = interior_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = interior_06
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = interior_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = interior_07
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = interior_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_interior = yes
    }
    add_mbrxxx_town_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = town_01 }
                NOT = { has_building = town_02 }
                NOT = { has_building = town_03 }
                NOT = { has_building = town_04 }
                NOT = { has_building = town_05 }
                NOT = { has_building = town_06 }
                NOT = { has_building = town_07 }
                NOT = { has_building = town_08 }
                building_town_requirement_terrain = yes
                    has_innovation = innovation_city_planning
                    building_requirement_tribal = no
            }
            add_building = town_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = town_01
                building_town_requirement_terrain = yes
                    has_innovation = innovation_city_planning
                    building_requirement_tribal = no
            }
            add_building = town_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = town_02
                building_town_requirement_terrain = yes
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = town_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = town_03
                building_town_requirement_terrain = yes
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = town_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = town_04
                building_town_requirement_terrain = yes
                    has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = town_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = town_05
                building_town_requirement_terrain = yes
                    has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = town_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = town_06
                building_town_requirement_terrain = yes
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = town_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = town_07
                building_town_requirement_terrain = yes
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = town_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_town = yes
    }
    add_mbrxxx_slaughterhouse_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = slaughterhouse_01 }
                NOT = { has_building = slaughterhouse_02 }
                NOT = { has_building = slaughterhouse_03 }
                NOT = { has_building = slaughterhouse_04 }
                NOT = { has_building = slaughterhouse_05 }
                NOT = { has_building = slaughterhouse_06 }
                NOT = { has_building = slaughterhouse_07 }
                NOT = { has_building = slaughterhouse_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = slaughterhouse_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = slaughterhouse_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = slaughterhouse_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = slaughterhouse_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = slaughterhouse_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = slaughterhouse_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = slaughterhouse_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = slaughterhouse_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_slaughterhouse = yes
    }
    add_mbrxxx_civil_engineering_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = civil_engineering_01 }
            }
            add_building = civil_engineering_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_civil_engineering = yes
    }
    add_mbrxxx_vineyard_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = vineyard_01 }
                NOT = { has_building = vineyard_02 }
                NOT = { has_building = vineyard_03 }
                NOT = { has_building = vineyard_04 }
                NOT = { has_building = vineyard_05 }
                NOT = { has_building = vineyard_06 }
                NOT = { has_building = vineyard_07 }
                NOT = { has_building = vineyard_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = vineyard_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = vineyard_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = vineyard_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = vineyard_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = vineyard_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = vineyard_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = vineyard_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = vineyard_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = vineyard_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = vineyard_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = vineyard_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = vineyard_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = vineyard_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = vineyard_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = vineyard_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_vineyard = yes
    }
    add_mbrxxx_tunnel_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = tunnel_01 }
                NOT = { has_building = tunnel_02 }
                NOT = { has_building = tunnel_03 }
                NOT = { has_building = tunnel_04 }
                NOT = { has_building = tunnel_05 }
                NOT = { has_building = tunnel_06 }
                NOT = { has_building = tunnel_07 }
                NOT = { has_building = tunnel_08 }
                building_tunnel_requirement_terrain = yes
                    building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = tunnel_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = tunnel_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = tunnel_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = tunnel_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = tunnel_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = tunnel_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = tunnel_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = tunnel_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = tunnel_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = tunnel_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = tunnel_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = tunnel_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = tunnel_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = tunnel_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = tunnel_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_tunnel = yes
    }
    add_mbrxxx_hospital_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = hospital_01 }
                NOT = { has_building = hospital_02 }
                NOT = { has_building = hospital_03 }
                NOT = { has_building = hospital_04 }
                NOT = { has_building = hospital_05 }
                NOT = { has_building = hospital_06 }
                NOT = { has_building = hospital_07 }
                NOT = { has_building = hospital_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = hospital_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = hospital_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = hospital_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = hospital_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = hospital_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = hospital_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = hospital_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = hospital_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = hospital_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = hospital_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = hospital_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = hospital_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = hospital_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = hospital_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = hospital_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_hospital = yes
    }
    add_mbrxxx_farming_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = farming_01 }
                NOT = { has_building = farming_02 }
                NOT = { has_building = farming_03 }
                NOT = { has_building = farming_04 }
                NOT = { has_building = farming_05 }
                NOT = { has_building = farming_06 }
                NOT = { has_building = farming_07 }
                NOT = { has_building = farming_08 }
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = farming_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = farming_01
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = farming_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = farming_02
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = farming_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = farming_03
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = farming_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = farming_04
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = farming_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = farming_05
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = farming_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = farming_06
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = farming_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = farming_07
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = farming_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_farming = yes
    }
    add_mbrxxx_embassy_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = embassy_01 }
                NOT = { has_building = embassy_02 }
            }
            add_building = embassy_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = embassy_01
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = embassy_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_embassy = yes
    }
    add_mbrxxx_district_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = district_01 }
                NOT = { has_building = district_02 }
                NOT = { has_building = district_03 }
                NOT = { has_building = district_04 }
                NOT = { has_building = district_05 }
                NOT = { has_building = district_06 }
                NOT = { has_building = district_07 }
                NOT = { has_building = district_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = district_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = district_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = district_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = district_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = district_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = district_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = district_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = district_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = district_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = district_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = district_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = district_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = district_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = district_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = district_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_district = yes
    }
    add_mbrxxx_czhen_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = czhen_01 }
                NOT = { has_building = czhen_02 }
                NOT = { has_building = czhen_03 }
                NOT = { has_building = czhen_04 }
                NOT = { has_building = czhen_05 }
                NOT = { has_building = czhen_06 }
                NOT = { has_building = czhen_07 }
                NOT = { has_building = czhen_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = czhen_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = czhen_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = czhen_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = czhen_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = czhen_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = czhen_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = czhen_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = czhen_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = czhen_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = czhen_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = czhen_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = czhen_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = czhen_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = czhen_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = czhen_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_czhen = yes
    }
    add_mbrxxx_muhou_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = muhou_01 }
                NOT = { has_building = muhou_02 }
                NOT = { has_building = muhou_03 }
                NOT = { has_building = muhou_04 }
                NOT = { has_building = muhou_05 }
                NOT = { has_building = muhou_06 }
                NOT = { has_building = muhou_07 }
                NOT = { has_building = muhou_08 }
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = muhou_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = muhou_01
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = muhou_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = muhou_02
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = muhou_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = muhou_03
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = muhou_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = muhou_04
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = muhou_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = muhou_05
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = muhou_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = muhou_06
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = muhou_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = muhou_07
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = muhou_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_muhou = yes
    }
    add_mbrxxx_silk_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = silk_01 }
                NOT = { has_building = silk_02 }
                NOT = { has_building = silk_03 }
                NOT = { has_building = silk_04 }
                NOT = { has_building = silk_05 }
                NOT = { has_building = silk_06 }
                NOT = { has_building = silk_07 }
                NOT = { has_building = silk_08 }
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = silk_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = silk_01
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = silk_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = silk_02
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = silk_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = silk_03
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = silk_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = silk_04
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = silk_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = silk_05
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = silk_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = silk_06
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = silk_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = silk_07
                building_plantations_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = silk_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_silk = yes
    }
    add_mbrxxx_restau_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = restau_01 }
                NOT = { has_building = restau_02 }
                NOT = { has_building = restau_03 }
                NOT = { has_building = restau_04 }
                NOT = { has_building = restau_05 }
                NOT = { has_building = restau_06 }
                NOT = { has_building = restau_07 }
                NOT = { has_building = restau_08 }
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = restau_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = restau_01
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = restau_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = restau_02
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = restau_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = restau_03
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = restau_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = restau_04
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = restau_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = restau_05
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = restau_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = restau_06
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = restau_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = restau_07
                building_cereal_fields_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = restau_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_restau = yes
    }
    add_mbrxxx_supm_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = supm_01 }
                NOT = { has_building = supm_02 }
                NOT = { has_building = supm_03 }
                NOT = { has_building = supm_04 }
                NOT = { has_building = supm_05 }
                NOT = { has_building = supm_06 }
                NOT = { has_building = supm_07 }
                NOT = { has_building = supm_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = supm_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = supm_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = supm_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = supm_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = supm_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = supm_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = supm_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = supm_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = supm_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = supm_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = supm_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = supm_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = supm_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = supm_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = supm_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_supm = yes
    }
    add_mbrxxx_mif_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = mif_01 }
                NOT = { has_building = mif_02 }
                NOT = { has_building = mif_03 }
                NOT = { has_building = mif_04 }
                NOT = { has_building = mif_05 }
                NOT = { has_building = mif_06 }
                NOT = { has_building = mif_07 }
                NOT = { has_building = mif_08 }
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = mif_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = mif_01
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = mif_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = mif_02
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = mif_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = mif_03
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = mif_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = mif_04
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = mif_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = mif_05
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = mif_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = mif_06
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = mif_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = mif_07
                building_quarries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = mif_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_mif = yes
    }
    add_mbrxxx_lcamp_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = lcamp_01 }
                NOT = { has_building = lcamp_02 }
                NOT = { has_building = lcamp_03 }
                NOT = { has_building = lcamp_04 }
                NOT = { has_building = lcamp_05 }
                NOT = { has_building = lcamp_06 }
                NOT = { has_building = lcamp_07 }
                NOT = { has_building = lcamp_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = lcamp_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = lcamp_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = lcamp_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = lcamp_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = lcamp_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = lcamp_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = lcamp_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = lcamp_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = lcamp_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = lcamp_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = lcamp_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = lcamp_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = lcamp_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = lcamp_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = lcamp_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_lcamp = yes
    }
    add_mbrxxx_hbm_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = hbm_01 }
                NOT = { has_building = hbm_02 }
                NOT = { has_building = hbm_03 }
                NOT = { has_building = hbm_04 }
                NOT = { has_building = hbm_05 }
                NOT = { has_building = hbm_06 }
                NOT = { has_building = hbm_07 }
                NOT = { has_building = hbm_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = hbm_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = hbm_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = hbm_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = hbm_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = hbm_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = hbm_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = hbm_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = hbm_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = hbm_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = hbm_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = hbm_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = hbm_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = hbm_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = hbm_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = hbm_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_hbm = yes
    }
    add_mbrxxx_tavern_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = tavern_01 }
                NOT = { has_building = tavern_02 }
                NOT = { has_building = tavern_03 }
                NOT = { has_building = tavern_04 }
                NOT = { has_building = tavern_05 }
                NOT = { has_building = tavern_06 }
                NOT = { has_building = tavern_07 }
                NOT = { has_building = tavern_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = tavern_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = tavern_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = tavern_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = tavern_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = tavern_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = tavern_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = tavern_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = tavern_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = tavern_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = tavern_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = tavern_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = tavern_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = tavern_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = tavern_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = tavern_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_tavern = yes
    }
    add_mbrxxx_stash_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = stash_01 }
                NOT = { has_building = stash_02 }
                NOT = { has_building = stash_03 }
                NOT = { has_building = stash_04 }
                NOT = { has_building = stash_05 }
                NOT = { has_building = stash_06 }
                NOT = { has_building = stash_07 }
                NOT = { has_building = stash_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = stash_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = stash_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = stash_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = stash_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = stash_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = stash_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = stash_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = stash_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = stash_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = stash_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = stash_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = stash_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = stash_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = stash_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = stash_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_stash = yes
    }
    add_mbrxxx_spice_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = spice_01 }
                NOT = { has_building = spice_02 }
                NOT = { has_building = spice_03 }
                NOT = { has_building = spice_04 }
                NOT = { has_building = spice_05 }
                NOT = { has_building = spice_06 }
                NOT = { has_building = spice_07 }
                NOT = { has_building = spice_08 }
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = spice_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = spice_01
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = spice_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = spice_02
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = spice_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = spice_03
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = spice_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = spice_04
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = spice_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = spice_05
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = spice_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = spice_06
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = spice_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = spice_07
                building_orchards_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = spice_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_spice = yes
    }
    add_mbrxxx_crockery_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = crockery_01 }
                NOT = { has_building = crockery_02 }
                NOT = { has_building = crockery_03 }
                NOT = { has_building = crockery_04 }
                NOT = { has_building = crockery_05 }
                NOT = { has_building = crockery_06 }
                NOT = { has_building = crockery_07 }
                NOT = { has_building = crockery_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = crockery_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = crockery_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = crockery_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = crockery_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = crockery_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = crockery_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = crockery_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = crockery_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = crockery_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = crockery_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = crockery_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = crockery_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = crockery_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = crockery_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = crockery_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_crockery = yes
    }
    add_mbrxxx_currier_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = currier_01 }
                NOT = { has_building = currier_02 }
                NOT = { has_building = currier_03 }
                NOT = { has_building = currier_04 }
                NOT = { has_building = currier_05 }
                NOT = { has_building = currier_06 }
                NOT = { has_building = currier_07 }
                NOT = { has_building = currier_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = currier_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = currier_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = currier_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = currier_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = currier_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = currier_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = currier_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = currier_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = currier_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = currier_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = currier_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = currier_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = currier_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = currier_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = currier_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_currier = yes
    }
    add_mbrxxx_waterfront_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = waterfront_01 }
                NOT = { has_building = waterfront_02 }
                NOT = { has_building = waterfront_03 }
                NOT = { has_building = waterfront_04 }
                NOT = { has_building = waterfront_05 }
                NOT = { has_building = waterfront_06 }
                NOT = { has_building = waterfront_07 }
                NOT = { has_building = waterfront_08 }
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = waterfront_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = waterfront_01
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = waterfront_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = waterfront_02
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = waterfront_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = waterfront_03
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = waterfront_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = waterfront_04
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = waterfront_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = waterfront_05
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = waterfront_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = waterfront_06
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = waterfront_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = waterfront_07
                building_common_tradeport_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = waterfront_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_waterfront = yes
    }
    add_mbrxxx_shanqiu_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = shanqiu_01 }
                NOT = { has_building = shanqiu_02 }
                NOT = { has_building = shanqiu_03 }
                NOT = { has_building = shanqiu_04 }
                NOT = { has_building = shanqiu_05 }
                NOT = { has_building = shanqiu_06 }
                NOT = { has_building = shanqiu_07 }
                NOT = { has_building = shanqiu_08 }
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = shanqiu_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = shanqiu_01
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = shanqiu_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = shanqiu_02
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = shanqiu_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = shanqiu_03
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = shanqiu_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = shanqiu_04
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = shanqiu_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = shanqiu_05
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = shanqiu_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = shanqiu_06
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = shanqiu_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = shanqiu_07
                building_hill_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = shanqiu_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_shanqiu = yes
    }
    add_mbrxxx_fayuan_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = fayuan_01 }
                NOT = { has_building = fayuan_02 }
                NOT = { has_building = fayuan_03 }
                NOT = { has_building = fayuan_04 }
                NOT = { has_building = fayuan_05 }
                NOT = { has_building = fayuan_06 }
                NOT = { has_building = fayuan_07 }
                NOT = { has_building = fayuan_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = fayuan_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = fayuan_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = fayuan_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = fayuan_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = fayuan_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = fayuan_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = fayuan_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = fayuan_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = fayuan_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = fayuan_05
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = fayuan_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = fayuan_06
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = fayuan_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = fayuan_07
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = fayuan_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_fayuan = yes
    }
    add_mbrxxx_heishi_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = heishi_01 }
                NOT = { has_building = heishi_02 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = heishi_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = heishi_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = heishi_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_heishi = yes
    }
    add_mbrxxx_support_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = support_01 }
                NOT = { has_building = support_02 }
                NOT = { has_building = support_03 }
                NOT = { has_building = support_04 }
                NOT = { has_building = support_05 }
                NOT = { has_building = support_06 }
                NOT = { has_building = support_07 }
                NOT = { has_building = support_08 }
            }
            add_building = support_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = support_01
                has_innovation = innovation_barracks
            }
            add_building = support_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = support_02
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = support_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = support_03
                has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = support_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = support_04
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = support_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = support_05
                has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = support_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = support_06
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = support_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = support_07
                has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = support_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_support = yes
    }
    add_mbrxxx_Townsquare_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = Townsquare_01 }
                NOT = { has_building = Townsquare_02 }
                building_requirement_tribal = yes
            }
            add_building = Townsquare_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = Townsquare_01
                building_requirement_tribal = yes
            }
            add_building = Townsquare_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_Townsquare = yes
    }
    add_mbrxxx_tribeport_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = tribeport_01 }
                NOT = { has_building = tribeport_02 }
                building_requirement_tribal = yes
                    building_common_tradeport_requirement_terrain = yes
            }
            add_building = tribeport_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = tribeport_01
                building_requirement_tribal = yes
            }
            add_building = tribeport_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_tribeport = yes
    }
    add_mbrxxx_war_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = war_01 }
                NOT = { has_building = war_02 }
                building_requirement_tribal = yes
            }
            add_building = war_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = war_01
                building_requirement_tribal = yes
            }
            add_building = war_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_war = yes
    }
    add_mbrxxx_ting_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ting_01 }
                NOT = { has_building = ting_02 }
                building_requirement_tribal = yes
            }
            add_building = ting_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = ting_01
                building_requirement_tribal = yes
            }
            add_building = ting_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_ting = yes
    }
    add_mbrxxx_medicine_lodge_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = medicine_lodge_01 }
                NOT = { has_building = medicine_lodge_02 }
                building_requirement_tribal = yes
            }
            add_building = medicine_lodge_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = medicine_lodge_01
                building_requirement_tribal = yes
            }
            add_building = medicine_lodge_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_medicine_lodge = yes
    }
    add_mbrxxx_liehu_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = liehu_01 }
                NOT = { has_building = liehu_02 }
                building_requirement_tribal = yes
            }
            add_building = liehu_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = liehu_01
                building_requirement_tribal = yes
            }
            add_building = liehu_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_liehu = yes
    }
    add_mbrxxx_car_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = car_01 }
                NOT = { has_building = car_02 }
                building_requirement_tribal = yes
                    building_horse_pastures_requirement_terrain = yes
            }
            add_building = car_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = car_01
                building_requirement_tribal = yes
            }
            add_building = car_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_car = yes
    }
    add_mbrxxx_pimao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = pimao_01 }
                NOT = { has_building = pimao_02 }
                building_requirement_tribal = yes
            }
            add_building = pimao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = pimao_01
                building_requirement_tribal = yes
            }
            add_building = pimao_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_pimao = yes
    }
    add_mbrxxx_zhanshi_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = zhanshi_01 }
                NOT = { has_building = zhanshi_02 }
                building_requirement_tribal = yes
            }
            add_building = zhanshi_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = zhanshi_01
                building_requirement_tribal = yes
            }
            add_building = zhanshi_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_zhanshi = yes
    }
# }

########## Oriental Empires SUPPORT ##########
# if = {
#     limit = { mod_is_active = "2506311074" }
    add_oe_shoushan_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = shoushan_mines_01 }
                NOT = { has_building = shoushan_mines_02 }
                NOT = { has_building = shoushan_mines_03 }
                NOT = { has_building = shoushan_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = shoushan_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = shoushan_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = shoushan_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = shoushan_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = shoushan_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = shoushan_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = shoushan_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_shoushan_mines = yes
    }
    add_oe_daye_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = daye_mines_01 }
                NOT = { has_building = daye_mines_02 }
                NOT = { has_building = daye_mines_03 }
                NOT = { has_building = daye_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = daye_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = daye_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = daye_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = daye_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = daye_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = daye_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = daye_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_daye_mines = yes
    }
    add_oe_jiaodong_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = jiaodong_mines_01 }
                NOT = { has_building = jiaodong_mines_02 }
                NOT = { has_building = jiaodong_mines_03 }
                NOT = { has_building = jiaodong_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = jiaodong_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = jiaodong_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = jiaodong_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = jiaodong_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = jiaodong_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = jiaodong_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = jiaodong_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_jiaodong_mines = yes
    }
    add_oe_weicheng_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = weicheng_mines_01 }
                NOT = { has_building = weicheng_mines_02 }
                NOT = { has_building = weicheng_mines_03 }
                NOT = { has_building = weicheng_mines_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = weicheng_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = weicheng_mines_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = weicheng_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = weicheng_mines_02
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = weicheng_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = weicheng_mines_03
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = weicheng_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_weicheng_mines = yes
    }
    add_oe_shaozhou_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = shaozhou_mines_01 }
                NOT = { has_building = shaozhou_mines_02 }
                NOT = { has_building = shaozhou_mines_03 }
                NOT = { has_building = shaozhou_mines_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = shaozhou_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = shaozhou_mines_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = shaozhou_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = shaozhou_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = shaozhou_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = shaozhou_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = shaozhou_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_shaozhou_mines = yes
    }
    add_oe_liaodong_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = liaodong_mines_01 }
                NOT = { has_building = liaodong_mines_02 }
                NOT = { has_building = liaodong_mines_03 }
                NOT = { has_building = liaodong_mines_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = liaodong_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = liaodong_mines_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = liaodong_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = liaodong_mines_02
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = liaodong_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = liaodong_mines_03
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = liaodong_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_liaodong_mines = yes
    }
    add_oe_becp_regular_junyao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = becp_regular_junyao_01 }
            }
            add_building = becp_regular_junyao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_becp_regular_junyao = yes
    }
    add_oe_becp_regular_yueyao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = becp_regular_yueyao_01 }
            }
            add_building = becp_regular_yueyao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_becp_regular_yueyao = yes
    }
    add_oe_gold_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = gold_mines_01 }
                NOT = { has_building = gold_mines_02 }
                NOT = { has_building = gold_mines_03 }
                NOT = { has_building = gold_mines_04 }
                has_innovation = innovation_crop_rotation
            }
            add_building = gold_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = gold_mines_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = gold_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = gold_mines_02
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = gold_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = gold_mines_03
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = gold_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_gold_mines = yes
    }
    add_oe_sea_salt_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = sea_salt_mines_01 }
                NOT = { has_building = sea_salt_mines_02 }
                NOT = { has_building = sea_salt_mines_03 }
                NOT = { has_building = sea_salt_mines_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = sea_salt_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = sea_salt_mines_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = sea_salt_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = sea_salt_mines_02
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = sea_salt_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = sea_salt_mines_03
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = sea_salt_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_sea_salt_mines = yes
    }
    add_oe_silver_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = silver_mines_01 }
                NOT = { has_building = silver_mines_02 }
                NOT = { has_building = silver_mines_03 }
                NOT = { has_building = silver_mines_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = silver_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = silver_mines_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = silver_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = silver_mines_02
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = silver_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = silver_mines_03
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = silver_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_silver_mines = yes
    }
    add_oe_tea_plantation_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = tea_plantation_01 }
                NOT = { has_building = tea_plantation_02 }
                NOT = { has_building = tea_plantation_03 }
                NOT = { has_building = tea_plantation_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_tea_plantation_requirement_terrain = yes
            }
            add_building = tea_plantation_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = tea_plantation_01
                building_tea_plantation_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = tea_plantation_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = tea_plantation_02
                building_tea_plantation_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = tea_plantation_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = tea_plantation_03
                building_tea_plantation_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = tea_plantation_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_tea_plantation = yes
    }
    add_oe_sea_spice_plantation_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = sea_spice_plantation_01 }
                NOT = { has_building = sea_spice_plantation_02 }
                NOT = { has_building = sea_spice_plantation_03 }
                NOT = { has_building = sea_spice_plantation_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_spice_plantation_requirement_terrain = yes
            }
            add_building = sea_spice_plantation_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = sea_spice_plantation_01
                building_spice_plantation_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = sea_spice_plantation_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = sea_spice_plantation_02
                building_spice_plantation_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = sea_spice_plantation_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = sea_spice_plantation_03
                building_spice_plantation_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = sea_spice_plantation_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_sea_spice_plantation = yes
    }
    add_oe_silk_plantation_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = silk_plantation_01 }
                NOT = { has_building = silk_plantation_02 }
                NOT = { has_building = silk_plantation_03 }
                NOT = { has_building = silk_plantation_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_silk_plantation_requirement_terrain = yes
            }
            add_building = silk_plantation_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = silk_plantation_01
                building_silk_plantation_requirement_terrain = yes
                    building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = silk_plantation_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = silk_plantation_02
                building_silk_plantation_requirement_terrain = yes
                    building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = silk_plantation_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = silk_plantation_03
                building_silk_plantation_requirement_terrain = yes
                    building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = silk_plantation_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_silk_plantation = yes
    }
    add_oe_holy_site_dashuyuan_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = holy_site_dashuyuan_01 }
                building_requirement_tribal = no
            }
            add_building = holy_site_dashuyuan_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_holy_site_dashuyuan = yes
    }
    add_oe_holy_site_wenmiao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = holy_site_wenmiao_01 }
                building_requirement_tribal = no
                    has_innovation = innovation_crop_rotation
            }
            add_building = holy_site_wenmiao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_holy_site_wenmiao = yes
    }
    add_oe_daminggong_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = daminggong_01 }
                NOT = { has_building = daminggong_02 }
                building_requirement_tribal = no
                    has_innovation = innovation_centralization_of_authority
            }
            add_building = daminggong_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = daminggong_01
                building_requirement_tribal = no
                    has_innovation = innovation_centralization_of_authority
            }
            add_building = daminggong_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_daminggong = yes
    }
    add_oe_shence_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = shence_01 }
                NOT = { has_building = shence_02 }
                building_requirement_tribal = no
            }
            add_building = shence_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = shence_01
                building_requirement_tribal = no
            }
            add_building = shence_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_shence = yes
    }
    add_oe_kongmiao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = kongmiao_01 }
                building_requirement_tribal = no
            }
            add_building = kongmiao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_kongmiao = yes
    }
    add_oe_longmenshiku_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = longmenshiku_01 }
                building_requirement_tribal = no
            }
            add_building = longmenshiku_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_longmenshiku = yes
    }
    add_oe_tiance_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = tiance_01 }
                NOT = { has_building = tiance_02 }
                building_requirement_tribal = no
            }
            add_building = tiance_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = tiance_01
                building_requirement_tribal = no
                    has_innovation = innovation_centralization_of_authority
            }
            add_building = tiance_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_tiance = yes
    }
    add_oe_dujiangyan_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = dujiangyan_01 }
                building_requirement_tribal = no
            }
            add_building = dujiangyan_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_dujiangyan = yes
    }
    add_oe_Angkor_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = Angkor_01 }
                NOT = { has_building = Angkor_02 }
                NOT = { has_building = Angkor_03 }
                NOT = { has_building = Angkor_04 }
                NOT = { has_building = Angkor_05 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = Angkor_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = Angkor_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = Angkor_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = Angkor_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = Angkor_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = Angkor_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = Angkor_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = Angkor_04
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = Angkor_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        Cmagic_building_upgrade_effect_Angkor = yes
    }
# }

########## 东方王朝文化兵种扩展 Orient Empires Expansion of cultural customs SUPPORT ##########
# if = {
#     limit = { mod_is_active = "2846371321" }
    add_dfwckuozhan_qianmutian_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = qianmutian_01 }
                NOT = { has_building = qianmutian_02 }
                NOT = { has_building = qianmutian_03 }
                NOT = { has_building = qianmutian_04 }
                NOT = { has_building = qianmutian_05 }
                NOT = { has_building = qianmutian_06 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = qianmutian_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = qianmutian_01
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = qianmutian_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = qianmutian_02
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = qianmutian_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = qianmutian_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = qianmutian_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = qianmutian_04
                building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_manorialism
            }
            add_building = qianmutian_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = qianmutian_05
                building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_manorialism
            }
            add_building = qianmutian_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_qianmutian = yes
    }
    add_dfwckuozhan_heitudi_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = heitudi_01 }
                NOT = { has_building = heitudi_02 }
                NOT = { has_building = heitudi_03 }
                NOT = { has_building = heitudi_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_farm_estates_requirement_terrain = yes
                    building_orchards_requirement_terrain = yes
            }
            add_building = heitudi_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = heitudi_01
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = heitudi_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = heitudi_02
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = heitudi_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = heitudi_03
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = heitudi_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_heitudi = yes
    }
    add_dfwckuozhan_a_heitudi_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = a_heitudi_01 }
                NOT = { has_building = a_heitudi_02 }
                NOT = { has_building = a_heitudi_03 }
                NOT = { has_building = a_heitudi_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_farm_estates_requirement_terrain = yes
                    building_orchards_requirement_terrain = yes
            }
            add_building = a_heitudi_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = a_heitudi_01
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = a_heitudi_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = a_heitudi_02
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = a_heitudi_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = a_heitudi_03
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = a_heitudi_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_a_heitudi = yes
    }
    add_dfwckuozhan_bunudui_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = bunudui_01 }
            }
            add_building = bunudui_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_bunudui = yes
    }
    add_dfwckuozhan_nulishichang_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = nulishichang_01 }
            }
            add_building = nulishichang_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_nulishichang = yes
    }
    add_dfwckuozhan_changshanyuchang_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = changshanyuchang_01 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = changshanyuchang_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_changshanyuchang = yes
    }
    add_dfwckuozhan_chayuan_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = chayuan_01 }
                NOT = { has_building = chayuan_02 }
                NOT = { has_building = chayuan_03 }
                NOT = { has_building = chayuan_04 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = chayuan_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = chayuan_01
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = chayuan_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = chayuan_02
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = chayuan_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = chayuan_03
                building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = chayuan_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_chayuan = yes
    }
    add_dfwckuozhan_shutian_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = shutian_01 }
                NOT = { has_building = shutian_02 }
                NOT = { has_building = shutian_03 }
                NOT = { has_building = shutian_04 }
                NOT = { has_building = shutian_05 }
                NOT = { has_building = shutian_06 }
                NOT = { has_building = shutian_07 }
                NOT = { has_building = shutian_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = shutian_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = shutian_01
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = shutian_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = shutian_02
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = shutian_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = shutian_03
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = shutian_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = shutian_04
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = shutian_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = shutian_05
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = shutian_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = shutian_06
                building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = shutian_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = shutian_07
                building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = shutian_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_shutian = yes
    }
    add_dfwckuozhan_weibojun_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = weibojun_01 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = weibojun_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_weibojun = yes
    }
    add_dfwckuozhan_dongfangchengqiang_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = dongfangchengqiang_01 }
                NOT = { has_building = dongfangchengqiang_02 }
                NOT = { has_building = dongfangchengqiang_03 }
                NOT = { has_building = dongfangchengqiang_04 }
                NOT = { has_building = dongfangchengqiang_05 }
                NOT = { has_building = dongfangchengqiang_06 }
                NOT = { has_building = dongfangchengqiang_07 }
                NOT = { has_building = dongfangchengqiang_08 }
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = dongfangchengqiang_01
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = dongfangchengqiang_02
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = dongfangchengqiang_03
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_battlements
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = dongfangchengqiang_04
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = dongfangchengqiang_05
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_hoardings
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = dongfangchengqiang_06
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = dongfangchengqiang_07
                building_curtain_walls_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_machicolations
                    building_requirement_tribal = no
            }
            add_building = dongfangchengqiang_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_dongfangchengqiang = yes
    }
    add_dfwckuozhan_jiaochang_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = jiaochang_01 }
                NOT = { has_building = jiaochang_02 }
                NOT = { has_building = jiaochang_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_mustering_grounds #拥有校阅场革新
            }
            add_building = jiaochang_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = jiaochang_01
                building_requirement_castle_city_church = { LEVEL = 02 }
                    building_requirement_tribal = no
                    has_innovation = innovation_mustering_grounds
            }
            add_building = jiaochang_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = jiaochang_02
                building_requirement_castle_city_church = { LEVEL = 03 }
                    building_requirement_tribal = no
                    has_innovation = innovation_mustering_grounds
            }
            add_building = jiaochang_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_jiaochang = yes
    }
    add_dfwckuozhan_xinzeng_01_yidao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = xinzeng_01_yidao_01 }
                NOT = { has_building = xinzeng_01_yidao_02 }
                NOT = { has_building = xinzeng_01_yidao_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = xinzeng_01_yidao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = xinzeng_01_yidao_01
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = xinzeng_01_yidao_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = xinzeng_01_yidao_02
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = xinzeng_01_yidao_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_xinzeng_01_yidao = yes
    }
    add_dfwckuozhan_xinzeng_02_yidao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = xinzeng_02_yidao_01 }
                NOT = { has_building = xinzeng_02_yidao_02 }
                NOT = { has_building = xinzeng_02_yidao_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = xinzeng_02_yidao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = xinzeng_02_yidao_01
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = xinzeng_02_yidao_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = xinzeng_02_yidao_02
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = xinzeng_02_yidao_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_xinzeng_02_yidao = yes
    }
    add_dfwckuozhan_xinzeng_03_yidao_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = xinzeng_03_yidao_01 }
                NOT = { has_building = xinzeng_03_yidao_02 }
                NOT = { has_building = xinzeng_03_yidao_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = xinzeng_03_yidao_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = xinzeng_03_yidao_01
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = xinzeng_03_yidao_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = xinzeng_03_yidao_02
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = xinzeng_03_yidao_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_xinzeng_03_yidao = yes
    }
    add_dfwckuozhan_dingjudian_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = dingjudian_01 }
                NOT = { has_building = dingjudian_02 }
                NOT = { has_building = dingjudian_03 }
            }
            add_building = dingjudian_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = dingjudian_01
            }
            add_building = dingjudian_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = dingjudian_02
            }
            add_building = dingjudian_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_dingjudian = yes
    }
    add_dfwckuozhan_muchang_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = muchang_01 }
                NOT = { has_building = muchang_02 }
                NOT = { has_building = muchang_03 }
                building_muchang_requirement_terrain = yes
                    building_regimental_grounds_requirement_terrain = yes
                    building_farm_estates_requirement_terrain = yes
                    building_orchards_requirement_terrain = yes
            }
            add_building = muchang_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = muchang_01
                building_muchang_requirement_terrain = yes
            }
            add_building = muchang_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = muchang_02
                building_muchang_requirement_terrain = yes
            }
            add_building = muchang_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_muchang = yes
    }
    add_dfwckuozhan_gaoshanjudian_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = gaoshanjudian_01 }
                NOT = { has_building = gaoshanjudian_02 }
                NOT = { has_building = gaoshanjudian_03 }
                building_gaoshanjudian_requirement_terrain = yes
            }
            add_building = gaoshanjudian_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = gaoshanjudian_01
                building_gaoshanjudian_requirement_terrain = yes
            }
            add_building = gaoshanjudian_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = gaoshanjudian_02
                building_gaoshanjudian_requirement_terrain = yes
            }
            add_building = gaoshanjudian_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_gaoshanjudian = yes
    }
    add_dfwckuozhan_conglinliechang_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = conglinliechang_01 }
                NOT = { has_building = conglinliechang_02 }
                NOT = { has_building = conglinliechang_03 }
                NOT = { has_building = conglinliechang_04 }
            }
            add_building = conglinliechang_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = conglinliechang_01
            }
            add_building = conglinliechang_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = conglinliechang_02
            }
            add_building = conglinliechang_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = conglinliechang_03
            }
            add_building = conglinliechang_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_conglinliechang = yes
    }
# }

########## A Game of Thrones SUPPORT ##########
# if = {
#     limit = { mod_is_active = "2962333032" }
    add_agot_castle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = castle_05 }
                building_requirement_tribal = no
                    has_innovation = innovation_machicolations
            }
            add_building = castle_05
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_castle = yes
    }

    add_agot_city_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = city_05 }
                building_requirement_tribal = no
                    has_innovation = innovation_cranes
            }
            add_building = city_05
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_city = yes
    }
    add_agot_generic_dragon_pit_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = generic_dragon_pit_01 }
                building_requirement_tribal = no
            }
            add_building = generic_dragon_pit_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_generic_dragon_pit = yes
    }
    add_agot_vineyard_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_vineyard_01 }
                NOT = { has_building = agot_vineyard_02 }
                NOT = { has_building = agot_vineyard_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_vineyard_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_vineyard_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_windmills
            }
            add_building = agot_vineyard_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_vineyard_02
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_cranes
            }
            add_building = agot_vineyard_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_vineyard = yes
    }
    add_agot_lighthouse_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_lighthouse_01 }
                NOT = { has_building = agot_lighthouse_02 }
                NOT = { has_building = agot_lighthouse_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_lighthouse_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_lighthouse_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_windmills
            }
            add_building = agot_lighthouse_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_lighthouse_02
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_lighthouse_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_lighthouse = yes
    }
    add_agot_glass_gardens_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_glass_gardens_01 }
                NOT = { has_building = agot_glass_gardens_02 }
                NOT = { has_building = agot_glass_gardens_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_glass_gardens_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_glass_gardens_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_windmills
            }
            add_building = agot_glass_gardens_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_glass_gardens_02
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_glass_gardens_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_glass_gardens = yes
    }
    add_agot_scholastic_guilds_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_scholastic_guilds_01 }
                NOT = { has_building = agot_scholastic_guilds_02 }
                NOT = { has_building = agot_scholastic_guilds_03 }
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_scholastic_guilds_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_scholastic_guilds_01
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_scholastic_guilds_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_scholastic_guilds_02
                building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = agot_scholastic_guilds_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_scholastic_guilds = yes
    }
    add_agot_slave_diplomacy_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_slave_diplomacy_01 }
                NOT = { has_building = agot_slave_diplomacy_02 }
                NOT = { has_building = agot_slave_diplomacy_03 }
            }
            add_building = agot_slave_diplomacy_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_slave_diplomacy_01
            }
            add_building = agot_slave_diplomacy_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_slave_diplomacy_02
            }
            add_building = agot_slave_diplomacy_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_slave_diplomacy = yes
    }
    add_agot_slave_stewardship_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_slave_stewardship_01 }
                NOT = { has_building = agot_slave_stewardship_02 }
                NOT = { has_building = agot_slave_stewardship_03 }
            }
            add_building = agot_slave_stewardship_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_slave_stewardship_01
            }
            add_building = agot_slave_stewardship_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_slave_stewardship_02
            }
            add_building = agot_slave_stewardship_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_slave_stewardship = yes
    }
    add_agot_slave_martial_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_slave_martial_01 }
                NOT = { has_building = agot_slave_martial_02 }
                NOT = { has_building = agot_slave_martial_03 }
            }
            add_building = agot_slave_martial_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_slave_martial_01
            }
            add_building = agot_slave_martial_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_slave_martial_02
            }
            add_building = agot_slave_martial_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_slave_martial = yes
    }
    add_agot_slave_learning_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_slave_learning_01 }
                NOT = { has_building = agot_slave_learning_02 }
                NOT = { has_building = agot_slave_learning_03 }
            }
            add_building = agot_slave_learning_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_slave_learning_01
            }
            add_building = agot_slave_learning_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_slave_learning_02
            }
            add_building = agot_slave_learning_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_slave_learning = yes
    }
    add_agot_slave_intrigue_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_slave_intrigue_01 }
                NOT = { has_building = agot_slave_intrigue_02 }
                NOT = { has_building = agot_slave_intrigue_03 }
            }
            add_building = agot_slave_intrigue_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_slave_intrigue_01
            }
            add_building = agot_slave_intrigue_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_slave_intrigue_02
            }
            add_building = agot_slave_intrigue_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_slave_intrigue = yes
    }
    add_agot_monastery_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = monastery_01 }
                NOT = { has_building = monastery_02 }
                NOT = { has_building = monastery_03 }
                NOT = { has_building = monastery_04 }
                building_requirement_tribal = no
                    building_requirement_tribal_holding_in_county = no
            }
            add_building = monastery_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = monastery_01
                building_requirement_tribal = no
                    has_innovation = innovation_manorialism
            }
            add_building = monastery_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = monastery_02
                building_requirement_tribal = no
                    has_innovation = innovation_windmills
            }
            add_building = monastery_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = monastery_03
                building_requirement_tribal = no
                    has_innovation = innovation_cranes
            }
            add_building = monastery_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_monastery = yes
    }
    add_agot_pirate_control_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pirate_control_01 }
                NOT = { has_building = agot_pirate_control_02 }
                NOT = { has_building = agot_pirate_control_03 }
                NOT = { has_building = agot_pirate_control_04 }
                NOT = { has_building = agot_pirate_control_05 }
                NOT = { has_building = agot_pirate_control_06 }
            }
            add_building = agot_pirate_control_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pirate_control_01
            }
            add_building = agot_pirate_control_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_pirate_control_02
            }
            add_building = agot_pirate_control_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_pirate_control_03
            }
            add_building = agot_pirate_control_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_pirate_control_04
            }
            add_building = agot_pirate_control_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_pirate_control_05
            }
            add_building = agot_pirate_control_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_agot_pirate_control = yes
    }
    add_agot_pirate_economic_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pirate_economic_01 }
                NOT = { has_building = agot_pirate_economic_02 }
                NOT = { has_building = agot_pirate_economic_03 }
                NOT = { has_building = agot_pirate_economic_04 }
                NOT = { has_building = agot_pirate_economic_05 }
                NOT = { has_building = agot_pirate_economic_06 }
            }
            add_building = agot_pirate_economic_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pirate_economic_01
            }
            add_building = agot_pirate_economic_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_pirate_economic_02
            }
            add_building = agot_pirate_economic_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_pirate_economic_03
            }
            add_building = agot_pirate_economic_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_pirate_economic_04
            }
            add_building = agot_pirate_economic_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_pirate_economic_05
            }
            add_building = agot_pirate_economic_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_agot_pirate_economic = yes
    }
    add_agot_pirate_supply_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pirate_supply_01 }
                NOT = { has_building = agot_pirate_supply_02 }
                NOT = { has_building = agot_pirate_supply_03 }
                NOT = { has_building = agot_pirate_supply_04 }
                NOT = { has_building = agot_pirate_supply_05 }
                NOT = { has_building = agot_pirate_supply_06 }
            }
            add_building = agot_pirate_supply_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pirate_supply_01
            }
            add_building = agot_pirate_supply_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_pirate_supply_02
            }
            add_building = agot_pirate_supply_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_pirate_supply_03
            }
            add_building = agot_pirate_supply_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_pirate_supply_04
            }
            add_building = agot_pirate_supply_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_pirate_supply_05
            }
            add_building = agot_pirate_supply_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_agot_pirate_supply = yes
    }
    add_agot_pirate_troop_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pirate_troop_01 }
                NOT = { has_building = agot_pirate_troop_02 }
                NOT = { has_building = agot_pirate_troop_03 }
                NOT = { has_building = agot_pirate_troop_04 }
                NOT = { has_building = agot_pirate_troop_05 }
                NOT = { has_building = agot_pirate_troop_06 }
            }
            add_building = agot_pirate_troop_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pirate_troop_01
            }
            add_building = agot_pirate_troop_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_pirate_troop_02
            }
            add_building = agot_pirate_troop_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_pirate_troop_03
            }
            add_building = agot_pirate_troop_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_pirate_troop_04
            }
            add_building = agot_pirate_troop_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_pirate_troop_05
            }
            add_building = agot_pirate_troop_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_agot_pirate_troop = yes
    }
    add_agot_pirate_military_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pirate_military_01 }
                NOT = { has_building = agot_pirate_military_02 }
                NOT = { has_building = agot_pirate_military_03 }
                NOT = { has_building = agot_pirate_military_04 }
                NOT = { has_building = agot_pirate_military_05 }
                NOT = { has_building = agot_pirate_military_06 }
            }
            add_building = agot_pirate_military_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pirate_military_01
            }
            add_building = agot_pirate_military_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_pirate_military_02
            }
            add_building = agot_pirate_military_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_pirate_military_03
            }
            add_building = agot_pirate_military_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_pirate_military_04
            }
            add_building = agot_pirate_military_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_pirate_military_05
            }
            add_building = agot_pirate_military_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_agot_pirate_military = yes
    }
    add_agot_pirate_fortification_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pirate_fortification_01 }
                NOT = { has_building = agot_pirate_fortification_02 }
                NOT = { has_building = agot_pirate_fortification_03 }
                NOT = { has_building = agot_pirate_fortification_04 }
                NOT = { has_building = agot_pirate_fortification_05 }
                NOT = { has_building = agot_pirate_fortification_06 }
            }
            add_building = agot_pirate_fortification_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pirate_fortification_01
            }
            add_building = agot_pirate_fortification_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_pirate_fortification_02
            }
            add_building = agot_pirate_fortification_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_pirate_fortification_03
            }
            add_building = agot_pirate_fortification_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_pirate_fortification_04
            }
            add_building = agot_pirate_fortification_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_pirate_fortification_05
            }
            add_building = agot_pirate_fortification_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        Cmagic_building_upgrade_effect_agot_pirate_fortification = yes
    }
    add_agot_pirate_den_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = pirate_den_01 }
                NOT = { has_building = pirate_den_02 }
                NOT = { has_building = pirate_den_03 }
                building_western_tribal_01_a_mesh
                    building_requirement_tribal = no
            }
            add_building = pirate_den_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = pirate_den_01
                building_requirement_tribal = no
            }
            add_building = pirate_den_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = pirate_den_02
                building_requirement_tribal = no
            }
            add_building = pirate_den_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_pirate_den = yes
    }
    add_agot_ruin_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_01 }
            }
            add_building = ruin_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_ruin = yes
    }
    add_agot_small_ruin_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = small_ruin_01 }
                NOT = { has_building = small_ruin_02 }
                NOT = { has_building = small_ruin_03 }
                NOT = { has_building = small_ruin_04 }
            }
            add_building = small_ruin_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = small_ruin_01
            }
            add_building = small_ruin_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = small_ruin_02
            }
            add_building = small_ruin_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = small_ruin_03
            }
            add_building = small_ruin_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_small_ruin = yes
    }
    add_agot_medium_ruin_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = medium_ruin_01 }
                NOT = { has_building = medium_ruin_02 }
                NOT = { has_building = medium_ruin_03 }
                NOT = { has_building = medium_ruin_04 }
            }
            add_building = medium_ruin_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = medium_ruin_01
            }
            add_building = medium_ruin_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = medium_ruin_02
            }
            add_building = medium_ruin_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = medium_ruin_03
            }
            add_building = medium_ruin_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_medium_ruin = yes
    }
    add_agot_large_ruin_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = large_ruin_01 }
                NOT = { has_building = large_ruin_02 }
                NOT = { has_building = large_ruin_03 }
                NOT = { has_building = large_ruin_04 }
            }
            add_building = large_ruin_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = large_ruin_01
            }
            add_building = large_ruin_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = large_ruin_02
            }
            add_building = large_ruin_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = large_ruin_03
            }
            add_building = large_ruin_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_large_ruin = yes
    }
    add_agot_ruin_salted_earth_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_salted_earth_01 }
            }
            add_building = ruin_salted_earth_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_ruin_salted_earth = yes
    }
    add_agot_ruin_desolate_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_desolate_01 }
                NOT = { has_building = ruin_desolate_02 }
            }
            add_building = ruin_desolate_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = ruin_desolate_01
            }
            add_building = ruin_desolate_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_ruin_desolate = yes
    }
    add_agot_ruin_flooded_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_flooded_01 }
                NOT = { has_building = ruin_flooded_02 }
            }
            add_building = ruin_flooded_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = ruin_flooded_01
            }
            add_building = ruin_flooded_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_ruin_flooded = yes
    }
    add_agot_ruin_renowned_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_renowned_01 }
            }
            add_building = ruin_renowned_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_ruin_renowned = yes
    }
    add_agot_ruin_infamous_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_infamous_01 }
            }
            add_building = ruin_infamous_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_ruin_infamous = yes
    }
    add_agot_ruin_wildfire_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruin_wildfire_01 }
                NOT = { has_building = ruin_wildfire_02 }
            }
            add_building = ruin_wildfire_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = ruin_wildfire_01
            }
            add_building = ruin_wildfire_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_ruin_wildfire = yes
    }
    add_agot_the_red_keep_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = the_red_keep_01 }
                NOT = { has_building = the_red_keep_02 }
                NOT = { has_building = the_red_keep_03 }
                building_requirement_tribal = no
            }
            add_building = the_red_keep_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = the_red_keep_01
                building_requirement_tribal = no
            }
            add_building = the_red_keep_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = the_red_keep_02
                building_requirement_tribal = no
            }
            add_building = the_red_keep_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_the_red_keep = yes
    }
    add_agot_seven_gates_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = seven_gates_01 }
                building_requirement_tribal = no
            }
            add_building = seven_gates_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_seven_gates = yes
    }
    add_agot_cobblers_square_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = cobblers_square_01 }
                building_requirement_tribal = no
            }
            add_building = cobblers_square_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_cobblers_square = yes
    }
    add_agot_holy_site_great_sept_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = holy_site_great_sept_01 }
                building_requirement_tribal = no
            }
            add_building = holy_site_great_sept_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_holy_site_great_sept = yes
    }
    add_agot_generic_great_sept_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = generic_great_sept_01 }
                building_requirement_tribal = no
            }
            add_building = generic_great_sept_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_generic_great_sept = yes
    }
    add_agot_dragonpit_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = dragonpit_01 }
                NOT = { has_building = dragonpit_02 }
            }
            add_building = dragonpit_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = dragonpit_01
            }
            add_building = dragonpit_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_dragonpit = yes
    }
    add_agot_dragonpit_ruins_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = dragonpit_ruins_01 }
                NOT = { has_building = dragonpit_ruins_02 }
                NOT = { has_building = dragonpit_ruins_03 }
            }
            add_building = dragonpit_ruins_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = dragonpit_ruins_01
            }
            add_building = dragonpit_ruins_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = dragonpit_ruins_02
            }
            add_building = dragonpit_ruins_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_dragonpit_ruins = yes
    }
    add_agot_winterfell_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = winterfell_01 }
                NOT = { has_building = winterfell_02 }
                NOT = { has_building = winterfell_03 }
                building_requirement_tribal = no
            }
            add_building = winterfell_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = winterfell_01
                building_requirement_tribal = no
            }
            add_building = winterfell_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = winterfell_02
                building_requirement_tribal = no
            }
            add_building = winterfell_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_winterfell = yes
    }
    add_agot_the_eyrie_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = the_eyrie_01 }
                building_requirement_tribal = no
            }
            add_building = the_eyrie_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_the_eyrie = yes
    }
    add_agot_casterly_rock_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = casterly_rock_01 }
                building_requirement_tribal = no
            }
            add_building = casterly_rock_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_casterly_rock = yes
    }
    add_agot_highgarden_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = highgarden_01 }
                building_requirement_tribal = no
            }
            add_building = highgarden_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_highgarden = yes
    }
    add_agot_pyke_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = pyke_01 }
                building_requirement_tribal = no
            }
            add_building = pyke_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_pyke = yes
    }
    add_agot_sunspear_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = sunspear_01 }
                building_requirement_tribal = no
            }
            add_building = sunspear_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_sunspear = yes
    }
    add_agot_storms_end_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = storms_end_01 }
                building_requirement_tribal = no
            }
            add_building = storms_end_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_storms_end = yes
    }
    add_agot_riverrun_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = riverrun_01 }
                building_requirement_tribal = no
            }
            add_building = riverrun_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_riverrun = yes
    }
    add_agot_the_bloody_gate_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = the_bloody_gate_01 }
                building_requirement_tribal = no
            }
            add_building = the_bloody_gate_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_the_bloody_gate = yes
    }
    add_agot_dragonstone_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = dragonstone_01 }
                building_requirement_tribal = no
            }
            add_building = dragonstone_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_dragonstone = yes
    }
    add_agot_the_hightower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = the_hightower_01 }
                building_requirement_tribal = no
            }
            add_building = the_hightower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_the_hightower = yes
    }
    add_agot_holy_site_starry_sept_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = holy_site_starry_sept_01 }
                building_requirement_tribal = no
            }
            add_building = holy_site_starry_sept_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_holy_site_starry_sept = yes
    }
    add_agot_the_citadel_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = the_citadel_01 }
                NOT = { has_building = the_citadel_02 }
                building_requirement_tribal = no
            }
            add_building = the_citadel_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = the_citadel_01
                building_requirement_tribal = no
            }
            add_building = the_citadel_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_the_citadel = yes
    }
    add_agot_holy_site_naggas_hill_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = holy_site_naggas_hill_01 }
                building_requirement_tribal = no
            }
            add_building = holy_site_naggas_hill_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_holy_site_naggas_hill = yes
    }
    add_agot_the_twins_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = the_twins_01 }
                building_requirement_tribal = no
            }
            add_building = the_twins_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_the_twins = yes
    }
    add_agot_harrenhal_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = harrenhal_01 }
                building_requirement_tribal = no
            }
            add_building = harrenhal_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_harrenhal = yes
    }
    add_agot_ruins_harrenhal_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ruins_harrenhal_01 }
                NOT = { has_building = ruins_harrenhal_02 }
                NOT = { has_building = ruins_harrenhal_03 }
                NOT = { has_building = ruins_harrenhal_04 }
                NOT = { has_building = ruins_harrenhal_05 }
                NOT = { has_building = ruins_harrenhal_06 }
                NOT = { has_building = ruins_harrenhal_07 }
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = ruins_harrenhal_01
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = ruins_harrenhal_02
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = ruins_harrenhal_03
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = ruins_harrenhal_04
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = ruins_harrenhal_05
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = ruins_harrenhal_06
                building_requirement_tribal = no
            }
            add_building = ruins_harrenhal_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        Cmagic_building_upgrade_effect_ruins_harrenhal = yes
    }
    add_agot_ironwood_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = ironwood_01 }
                building_requirement_tribal = no
            }
            add_building = ironwood_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_ironwood = yes
    }
    add_agot_depleted_ironwood_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = depleted_ironwood_01 }
                building_requirement_tribal = no
            }
            add_building = depleted_ironwood_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_depleted_ironwood = yes
    }
    add_agot_mines_of_the_tooth_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = mines_of_the_tooth_01 }
                NOT = { has_building = mines_of_the_tooth_02 }
                NOT = { has_building = mines_of_the_tooth_03 }
                NOT = { has_building = mines_of_the_tooth_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = mines_of_the_tooth_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = mines_of_the_tooth_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = mines_of_the_tooth_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = mines_of_the_tooth_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = mines_of_the_tooth_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = mines_of_the_tooth_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = mines_of_the_tooth_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_mines_of_the_tooth = yes
    }
    add_agot_pendric_hills_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = pendric_hills_mines_01 }
                NOT = { has_building = pendric_hills_mines_02 }
                NOT = { has_building = pendric_hills_mines_03 }
                NOT = { has_building = pendric_hills_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = pendric_hills_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = pendric_hills_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = pendric_hills_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = pendric_hills_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = pendric_hills_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = pendric_hills_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = pendric_hills_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_pendric_hills_mines = yes
    }
    add_agot_nunns_deep_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = nunns_deep_mines_01 }
                NOT = { has_building = nunns_deep_mines_02 }
                NOT = { has_building = nunns_deep_mines_03 }
                NOT = { has_building = nunns_deep_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = nunns_deep_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = nunns_deep_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = nunns_deep_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = nunns_deep_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = nunns_deep_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = nunns_deep_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = nunns_deep_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_nunns_deep_mines = yes
    }
    add_agot_silverhill_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = silverhill_mines_01 }
                NOT = { has_building = silverhill_mines_02 }
                NOT = { has_building = silverhill_mines_03 }
                NOT = { has_building = silverhill_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = silverhill_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = silverhill_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = silverhill_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = silverhill_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = silverhill_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = silverhill_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = silverhill_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_silverhill_mines = yes
    }
    add_agot_yronwood_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = yronwood_mines_01 }
                NOT = { has_building = yronwood_mines_02 }
                NOT = { has_building = yronwood_mines_03 }
                NOT = { has_building = yronwood_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = yronwood_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = yronwood_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = yronwood_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = yronwood_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = yronwood_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = yronwood_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = yronwood_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_yronwood_mines = yes
    }
    add_agot_harlaw_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = harlaw_mines_01 }
                NOT = { has_building = harlaw_mines_02 }
                NOT = { has_building = harlaw_mines_03 }
                NOT = { has_building = harlaw_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = harlaw_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = harlaw_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = harlaw_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = harlaw_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = harlaw_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = harlaw_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = harlaw_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_harlaw_mines = yes
    }
    add_agot_orkmont_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = orkmont_mines_01 }
                NOT = { has_building = orkmont_mines_02 }
                NOT = { has_building = orkmont_mines_03 }
                NOT = { has_building = orkmont_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = orkmont_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = orkmont_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = orkmont_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = orkmont_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = orkmont_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = orkmont_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = orkmont_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_orkmont_mines = yes
    }
    add_agot_hardstone_hills_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = hardstone_hills_mines_01 }
                NOT = { has_building = hardstone_hills_mines_02 }
                NOT = { has_building = hardstone_hills_mines_03 }
                NOT = { has_building = hardstone_hills_mines_04 }
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
            }
            add_building = hardstone_hills_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = hardstone_hills_mines_01
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
            }
            add_building = hardstone_hills_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = hardstone_hills_mines_02
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
            }
            add_building = hardstone_hills_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = hardstone_hills_mines_03
                building_requirement_tribal = no
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
            }
            add_building = hardstone_hills_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_hardstone_hills_mines = yes
    }
    add_agot_hardhome_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_hardhome_01 }
                NOT = { has_building = agot_hardhome_02 }
                NOT = { has_building = agot_hardhome_03 }
            }
            add_building = agot_hardhome_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_hardhome_01
            }
            add_building = agot_hardhome_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_hardhome_02
            }
            add_building = agot_hardhome_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_hardhome = yes
    }
    add_agot_ruins_fist_of_the_first_men_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruins_fist_of_the_first_men_01 }
                NOT = { has_building = agot_ruins_fist_of_the_first_men_02 }
                NOT = { has_building = agot_ruins_fist_of_the_first_men_03 }
                NOT = { has_building = agot_ruins_fist_of_the_first_men_04 }
            }
            add_building = agot_ruins_fist_of_the_first_men_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruins_fist_of_the_first_men_01
                has_innovation = innovation_battlements
            }
            add_building = agot_ruins_fist_of_the_first_men_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_ruins_fist_of_the_first_men_02
                has_innovation = innovation_hoardings
            }
            add_building = agot_ruins_fist_of_the_first_men_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_ruins_fist_of_the_first_men_03
                has_innovation = innovation_hoardings
            }
            add_building = agot_ruins_fist_of_the_first_men_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruins_fist_of_the_first_men = yes
    }
    add_agot_btw_frostfang_crypts_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_btw_frostfang_crypts_01 }
            }
            add_building = agot_btw_frostfang_crypts_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_btw_frostfang_crypts = yes
    }
    add_agot_haggons_tower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_haggons_tower_01 }
            }
            add_building = agot_haggons_tower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_haggons_tower = yes
    }
    add_agot_ruddy_hall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruddy_hall_01 }
            }
            add_building = agot_ruddy_hall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruddy_hall = yes
    }
    add_agot_the_heated_pools_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_the_heated_pools_01 }
            }
            add_building = agot_the_heated_pools_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_the_heated_pools = yes
    }
    add_agot_cold_cradle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_cold_cradle_01 }
            }
            add_building = agot_cold_cradle_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_cold_cradle = yes
    }
    add_agot_others_arrival_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_others_arrival_01 }
            }
            add_building = agot_others_arrival_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_others_arrival = yes
    }
    add_agot_thenn_great_kilns_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_thenn_great_kilns_01 }
            }
            add_building = agot_thenn_great_kilns_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_thenn_great_kilns = yes
    }
    add_agot_thenn_valley_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_thenn_valley_01 }
                building_slot_add = 2
            }
            add_building = agot_thenn_valley_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_thenn_valley = yes
    }
    add_agot_thenn_great_circle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_thenn_great_circle_01 }
            }
            add_building = agot_thenn_great_circle_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_thenn_great_circle = yes
    }
    add_agot_thenn_small_circle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_thenn_small_circle_01 }
            }
            add_building = agot_thenn_small_circle_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_thenn_small_circle = yes
    }
    add_agot_srunmued_copper_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_srunmued_copper_mines_01 }
                NOT = { has_building = agot_srunmued_copper_mines_02 }
                NOT = { has_building = agot_srunmued_copper_mines_03 }
                NOT = { has_building = agot_srunmued_copper_mines_04 }
                has_innovation = innovation_crop_rotation
            }
            add_building = agot_srunmued_copper_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_srunmued_copper_mines_01
            }
            add_building = agot_srunmued_copper_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_srunmued_copper_mines_02
                has_innovation = innovation_development_01
            }
            add_building = agot_srunmued_copper_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_srunmued_copper_mines_03
            }
            add_building = agot_srunmued_copper_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_agot_srunmued_copper_mines = yes
    }
    add_agot_krih_tin_mines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_krih_tin_mines_01 }
                NOT = { has_building = agot_krih_tin_mines_02 }
                NOT = { has_building = agot_krih_tin_mines_03 }
                NOT = { has_building = agot_krih_tin_mines_04 }
                has_innovation = innovation_crop_rotation
            }
            add_building = agot_krih_tin_mines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_krih_tin_mines_01
            }
            add_building = agot_krih_tin_mines_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_krih_tin_mines_02
                has_innovation = innovation_development_01
            }
            add_building = agot_krih_tin_mines_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_krih_tin_mines_03
            }
            add_building = agot_krih_tin_mines_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_agot_krih_tin_mines = yes
    }
    add_agot_tree_of_crowns_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_tree_of_crowns_01 }
                building_requirement_tribal = no
            }
            add_building = agot_tree_of_crowns_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_tree_of_crowns = yes
    }
    add_agot_triarchy_council_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_triarchy_council_01 }
                building_requirement_tribal = no
            }
            add_building = agot_triarchy_council_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_triarchy_council = yes
    }
    add_agot_ruins_triarchy_council_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruins_triarchy_council_01 }
                NOT = { has_building = agot_ruins_triarchy_council_02 }
                building_requirement_tribal = no
            }
            add_building = agot_ruins_triarchy_council_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruins_triarchy_council_01
                building_requirement_tribal = no
            }
            add_building = agot_ruins_triarchy_council_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruins_triarchy_council = yes
    }
    add_agot_monument_of_borderland_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_monument_of_borderland_01 }
                building_requirement_tribal = no
            }
            add_building = agot_monument_of_borderland_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_monument_of_borderland = yes
    }
    add_agot_racallios_fort_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_racallios_fort_01 }
                building_requirement_tribal = no
            }
            add_building = agot_racallios_fort_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_racallios_fort = yes
    }
    add_agot_crab_fields_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_crab_fields_01 }
                building_requirement_tribal = no
            }
            add_building = agot_crab_fields_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_crab_fields = yes
    }
    add_agot_temple_of_trade_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_temple_of_trade_01 }
                building_requirement_tribal = no
            }
            add_building = agot_temple_of_trade_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_temple_of_trade = yes
    }
    add_agot_lys_walls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_lys_walls_01 }
                building_requirement_tribal = no
            }
            add_building = agot_lys_walls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_lys_walls = yes
    }
    add_agot_temple_of_yndros_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_temple_of_yndros_01 }
                building_requirement_tribal = no
            }
            add_building = agot_temple_of_yndros_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_temple_of_yndros = yes
    }
    add_agot_red_temple_lys_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_red_temple_lys_01 }
                building_requirement_tribal = no
            }
            add_building = agot_red_temple_lys_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_red_temple_lys = yes
    }
    add_agot_port_of_lys_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_port_of_lys_01 }
                building_requirement_tribal = no
            }
            add_building = agot_port_of_lys_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_port_of_lys = yes
    }
    add_agot_prison_of_lys_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_prison_of_lys_01 }
                building_requirement_tribal = no
            }
            add_building = agot_prison_of_lys_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_prison_of_lys = yes
    }
    add_agot_perfumed_garden_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_perfumed_garden_01 }
                building_requirement_tribal = no
            }
            add_building = agot_perfumed_garden_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_perfumed_garden = yes
    }
    add_agot_bleeding_tower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_bleeding_tower_01 }
            }
            add_building = agot_bleeding_tower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_bleeding_tower = yes
    }
    add_agot_tyrosh_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_tyrosh_01 }
            }
            add_building = agot_tyrosh_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_tyrosh = yes
    }
    add_agot_grand_temple_of_trios_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_grand_temple_of_trios_01 }
                building_requirement_tribal = no
            }
            add_building = agot_grand_temple_of_trios_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_grand_temple_of_trios = yes
    }
    add_agot_tyrosh_walls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_tyrosh_walls_01 }
                building_requirement_tribal = no
            }
            add_building = agot_tyrosh_walls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_tyrosh_walls = yes
    }
    add_agot_red_temple_tyrosh_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_red_temple_tyrosh_01 }
                building_requirement_tribal = no
            }
            add_building = agot_red_temple_tyrosh_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_red_temple_tyrosh = yes
    }
    add_agot_great_wheel_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_great_wheel_01 }
                building_requirement_tribal = no
            }
            add_building = agot_great_wheel_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_great_wheel = yes
    }
    add_agot_grand_temple_of_gelenei_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_grand_temple_of_gelenei_01 }
                building_requirement_tribal = no
            }
            add_building = agot_grand_temple_of_gelenei_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_grand_temple_of_gelenei = yes
    }
    add_agot_red_temple_myr_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_red_temple_myr_01 }
                building_requirement_tribal = no
            }
            add_building = agot_red_temple_myr_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_red_temple_myr = yes
    }
    add_agot_myr_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_myr_01 }
                building_requirement_tribal = no
            }
            add_building = agot_myr_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_myr = yes
    }
    add_agot_statue_of_trios_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_statue_of_trios_01 }
                building_requirement_tribal = no
            }
            add_building = agot_statue_of_trios_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_statue_of_trios = yes
    }
    add_agot_myr_cliffs_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_myr_cliffs_01 }
                building_requirement_tribal = no
            }
            add_building = agot_myr_cliffs_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_myr_cliffs = yes
    }
    add_agot_myr_walls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_myr_walls_01 }
                building_requirement_tribal = no
            }
            add_building = agot_myr_walls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_myr_walls = yes
    }
    add_agot_pentos_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pentos_01 }
                building_requirement_tribal = no
            }
            add_building = agot_pentos_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_pentos = yes
    }
    add_agot_pentos_walls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pentos_walls_01 }
                building_requirement_tribal = no
            }
            add_building = agot_pentos_walls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_pentos_walls = yes
    }
    add_agot_red_temple_pentos_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_red_temple_pentos_01 }
                building_requirement_tribal = no
            }
            add_building = agot_red_temple_pentos_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_red_temple_pentos = yes
    }
    add_agot_magister_harbor_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_magister_harbor_01 }
                building_requirement_tribal = no
            }
            add_building = agot_magister_harbor_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_magister_harbor = yes
    }
    add_agot_pentos_harbor_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pentos_harbor_01 }
                building_requirement_tribal = no
            }
            add_building = agot_pentos_harbor_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_pentos_harbor = yes
    }
    add_agot_valdrizes_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_valdrizes_01 }
                building_requirement_tribal = no
            }
            add_building = agot_valdrizes_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_valdrizes = yes
    }
    add_agot_hugor_hill_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_hugor_hill_01 }
                building_requirement_tribal = no
            }
            add_building = agot_hugor_hill_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_hugor_hill = yes
    }
    add_agot_sealords_palace_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_sealords_palace_01 }
                building_requirement_tribal = no
            }
            add_building = agot_sealords_palace_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_sealords_palace = yes
    }
    add_agot_iron_bank_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_iron_bank_01 }
                building_requirement_tribal = no
            }
            add_building = agot_iron_bank_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_iron_bank = yes
    }
    add_agot_isle_of_the_gods_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_isle_of_the_gods_01 }
                building_requirement_tribal = no
            }
            add_building = agot_isle_of_the_gods_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_isle_of_the_gods = yes
    }
    add_agot_arsenal_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_arsenal_01 }
                building_requirement_tribal = no
            }
            add_building = agot_arsenal_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_arsenal = yes
    }
    add_agot_titan_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_titan_01 }
                building_requirement_tribal = no
            }
            add_building = agot_titan_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_titan = yes
    }
    add_agot_palace_of_truth_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_palace_of_truth_01 }
                building_requirement_tribal = no
            }
            add_building = agot_palace_of_truth_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_palace_of_truth = yes
    }
    add_agot_drowned_town_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_drowned_town_01 }
                building_requirement_tribal = no
            }
            add_building = agot_drowned_town_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_drowned_town = yes
    }
    add_agot_sweetwater_font_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_sweetwater_font_01 }
                building_requirement_tribal = no
            }
            add_building = agot_sweetwater_font_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_sweetwater_font = yes
    }
    add_agot_the_wall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_the_wall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_the_wall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_the_wall = yes
    }
    add_agot_castle_black_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_castle_black_01 }
                building_requirement_tribal = no
            }
            add_building = agot_castle_black_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_castle_black = yes
    }
    add_agot_eastwatch_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_eastwatch_01 }
                building_requirement_tribal = no
            }
            add_building = agot_eastwatch_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_eastwatch = yes
    }
    add_agot_shadow_tower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_shadow_tower_01 }
                building_requirement_tribal = no
            }
            add_building = agot_shadow_tower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_shadow_tower = yes
    }
    add_agot_bridge_of_skulls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_bridge_of_skulls_01 }
                building_requirement_tribal = no
            }
            add_building = agot_bridge_of_skulls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_bridge_of_skulls = yes
    }
    add_agot_tower_of_joy_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_tower_of_joy_01 }
                building_requirement_tribal = no
            }
            add_building = agot_tower_of_joy_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_tower_of_joy = yes
    }
    add_agot_the_water_gardens_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_the_water_gardens_01 }
                building_requirement_tribal = no
            }
            add_building = agot_the_water_gardens_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_the_water_gardens = yes
    }
    add_agot_ghaston_grey_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ghaston_grey_01 }
                building_requirement_tribal = no
            }
            add_building = agot_ghaston_grey_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_ghaston_grey = yes
    }
    add_agot_the_shadow_city_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_the_shadow_city_01 }
                building_requirement_tribal = no
            }
            add_building = agot_the_shadow_city_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_the_shadow_city = yes
    }
    add_agot_starfall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_starfall_01 }
            }
            add_building = agot_starfall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_starfall = yes
    }
    add_agot_vultures_roost_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_vultures_roost_01 }
            }
            add_building = agot_vultures_roost_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_vultures_roost = yes
    }
    add_agot_skyreach_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_skyreach_01 }
            }
            add_building = agot_skyreach_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_skyreach = yes
    }
    add_agot_hellgate_hall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_hellgate_hall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_hellgate_hall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_hellgate_hall = yes
    }
    add_agot_ruins_hellgate_hall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruins_hellgate_hall_01 }
                NOT = { has_building = agot_ruins_hellgate_hall_02 }
                building_requirement_tribal = no
            }
            add_building = agot_ruins_hellgate_hall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruins_hellgate_hall_01
                building_requirement_tribal = no
            }
            add_building = agot_ruins_hellgate_hall_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruins_hellgate_hall = yes
    }
    add_agot_godsgrace_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_godsgrace_01 }
                building_requirement_tribal = no
            }
            add_building = agot_godsgrace_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_godsgrace = yes
    }
    add_agot_nymeros_tower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_nymeros_tower_01 }
                building_requirement_tribal = no
            }
            add_building = agot_nymeros_tower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_nymeros_tower = yes
    }
    add_agot_plankytown_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_plankytown_01 }
                building_requirement_tribal = no
            }
            add_building = agot_plankytown_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_plankytown = yes
    }
    add_agot_sandstone_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_sandstone_01 }
            }
            add_building = agot_sandstone_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_sandstone = yes
    }
    add_agot_broken_tower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_broken_tower_01 }
                building_requirement_tribal = no
            }
            add_building = agot_broken_tower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_broken_tower = yes
    }
    add_agot_merling_port_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_merling_port_01 }
                building_requirement_tribal = no
            }
            add_building = agot_merling_port_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_merling_port = yes
    }
    add_agot_pit_of_snakes_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_pit_of_snakes_01 }
                NOT = { has_building = agot_pit_of_snakes_02 }
                building_requirement_tribal = no
            }
            add_building = agot_pit_of_snakes_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_pit_of_snakes_01
                building_requirement_tribal = no
            }
            add_building = agot_pit_of_snakes_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_pit_of_snakes = yes
    }
    add_agot_raventree_hall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_raventree_hall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_raventree_hall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_raventree_hall = yes
    }
    add_agot_inn_at_the_crossroads_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_inn_at_the_crossroads_01 }
                building_requirement_tribal = no
            }
            add_building = agot_inn_at_the_crossroads_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_inn_at_the_crossroads = yes
    }
    add_agot_high_heart_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_high_heart_01 }
                building_requirement_tribal = no
            }
            add_building = agot_high_heart_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_high_heart = yes
    }
    add_agot_ruin_high_heart_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruin_high_heart_01 }
                NOT = { has_building = agot_ruin_high_heart_02 }
                building_requirement_tribal = no
            }
            add_building = agot_ruin_high_heart_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruin_high_heart_01
                building_requirement_tribal = no
            }
            add_building = agot_ruin_high_heart_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruin_high_heart = yes
    }
    add_agot_seagard_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_seagard_01 }
                building_requirement_tribal = no
            }
            add_building = agot_seagard_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_seagard = yes
    }
    add_agot_oldstones_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_oldstones_01 }
                NOT = { has_building = agot_oldstones_02 }
                building_requirement_tribal = no
            }
            add_building = agot_oldstones_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_oldstones_01
                building_requirement_tribal = no
            }
            add_building = agot_oldstones_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_oldstones = yes
    }
    add_agot_inn_of_the_kneeling_man_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_inn_of_the_kneeling_man_01 }
                building_requirement_tribal = no
            }
            add_building = agot_inn_of_the_kneeling_man_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_inn_of_the_kneeling_man = yes
    }
    add_agot_stoney_sept_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_stoney_sept_01 }
                building_requirement_tribal = no
            }
            add_building = agot_stoney_sept_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_stoney_sept = yes
    }
    add_agot_wayfarers_rest_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_wayfarers_rest_01 }
                building_requirement_tribal = no
            }
            add_building = agot_wayfarers_rest_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_wayfarers_rest = yes
    }
    add_agot_mudgrave_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_mudgrave_01 }
                building_requirement_tribal = no
            }
            add_building = agot_mudgrave_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_mudgrave = yes
    }
    add_agot_banefort_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_banefort_01 }
                building_requirement_tribal = no
            }
            add_building = agot_banefort_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_banefort = yes
    }
    add_agot_castamere_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_castamere_01 }
                building_requirement_tribal = no
            }
            add_building = agot_castamere_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_castamere = yes
    }
    add_agot_castamere_ruins_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_castamere_ruins_01 }
                NOT = { has_building = agot_castamere_ruins_02 }
                building_requirement_tribal = no
            }
            add_building = agot_castamere_ruins_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_castamere_ruins_01
                building_requirement_tribal = no
            }
            add_building = agot_castamere_ruins_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_castamere_ruins = yes
    }
    add_agot_lann_sept_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_lann_sept_01 }
                building_requirement_tribal = no
            }
            add_building = agot_lann_sept_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_lann_sept = yes
    }
    add_agot_lions_dock_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_lions_dock_01 }
                building_requirement_tribal = no
            }
            add_building = agot_lions_dock_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_lions_dock = yes
    }
    add_agot_crakehall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_crakehall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_crakehall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_crakehall = yes
    }
    add_agot_griffins_roost_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_griffins_roost_01 }
                building_requirement_tribal = no
            }
            add_building = agot_griffins_roost_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_griffins_roost = yes
    }
    add_agot_blackhaven_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_blackhaven_01 }
                building_requirement_tribal = no
            }
            add_building = agot_blackhaven_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_blackhaven = yes
    }
    add_agot_stonehelm_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_stonehelm_01 }
                building_requirement_tribal = no
            }
            add_building = agot_stonehelm_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_stonehelm = yes
    }
    add_agot_nightsong_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_nightsong_01 }
                building_requirement_tribal = no
            }
            add_building = agot_nightsong_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_nightsong = yes
    }
    add_agot_morne_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_morne_01 }
                NOT = { has_building = agot_morne_02 }
                NOT = { has_building = agot_morne_03 }
                building_requirement_tribal = no
            }
            add_building = agot_morne_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_morne_01
                building_requirement_tribal = no
            }
            add_building = agot_morne_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_morne_02
                building_requirement_tribal = no
            }
            add_building = agot_morne_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_morne = yes
    }
    add_agot_evenfall_hall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_evenfall_hall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_evenfall_hall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_evenfall_hall = yes
    }
    add_agot_summerhall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_summerhall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_summerhall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_summerhall = yes
    }
    add_agot_summerhall_ruins_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_summerhall_ruins_01 }
                NOT = { has_building = agot_summerhall_ruins_02 }
                building_requirement_tribal = no
            }
            add_building = agot_summerhall_ruins_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_summerhall_ruins_01
                building_requirement_tribal = no
            }
            add_building = agot_summerhall_ruins_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_summerhall_ruins = yes
    }
    add_agot_bronzegate_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_bronzegate_01 }
                building_requirement_tribal = no
            }
            add_building = agot_bronzegate_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_bronzegate = yes
    }
    add_agot_weeping_tower_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_weeping_tower_01 }
                NOT = { has_building = agot_weeping_tower_02 }
                building_requirement_tribal = no
            }
            add_building = agot_weeping_tower_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_weeping_tower_01
                building_requirement_tribal = no
            }
            add_building = agot_weeping_tower_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_weeping_tower = yes
    }
    add_agot_kingswood_brotherhood_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_kingswood_brotherhood_01 }
                building_requirement_tribal = no
            }
            add_building = agot_kingswood_brotherhood_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_kingswood_brotherhood = yes
    }
    add_agot_ruins_kingswood_brotherhood_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruins_kingswood_brotherhood_01 }
                NOT = { has_building = agot_ruins_kingswood_brotherhood_02 }
                building_requirement_tribal = no
            }
            add_building = agot_ruins_kingswood_brotherhood_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruins_kingswood_brotherhood_01
                building_requirement_tribal = no
            }
            add_building = agot_ruins_kingswood_brotherhood_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruins_kingswood_brotherhood = yes
    }
    add_agot_barrow_keep_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_barrow_keep_01 }
                building_requirement_tribal = no
            }
            add_building = agot_barrow_keep_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_barrow_keep = yes
    }
    add_agot_white_harbor_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_white_harbor_01 }
                building_requirement_tribal = no
            }
            add_building = agot_white_harbor_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_white_harbor = yes
    }
    add_agot_sept_of_the_snows_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_sept_of_the_snows_01 }
                building_requirement_tribal = no
            }
            add_building = agot_sept_of_the_snows_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_sept_of_the_snows = yes
    }
    add_agot_wolfs_den_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_wolfs_den_01 }
                NOT = { has_building = agot_wolfs_den_02 }
                NOT = { has_building = agot_wolfs_den_03 }
                building_requirement_tribal = no
            }
            add_building = agot_wolfs_den_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_wolfs_den_01
                building_requirement_tribal = no
            }
            add_building = agot_wolfs_den_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_wolfs_den_02
                building_requirement_tribal = no
            }
            add_building = agot_wolfs_den_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        Cmagic_building_upgrade_effect_agot_wolfs_den = yes
    }
    add_agot_new_castle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_new_castle_01 }
                building_requirement_tribal = no
            }
            add_building = agot_new_castle_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_new_castle = yes
    }
    add_agot_dreadfort_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_dreadfort_01 }
                building_requirement_tribal = no
            }
            add_building = agot_dreadfort_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_dreadfort = yes
    }
    add_agot_karhold_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_karhold_01 }
                building_requirement_tribal = no
            }
            add_building = agot_karhold_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_karhold = yes
    }
    add_agot_warg_king_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_warg_king_01 }
                NOT = { has_building = agot_warg_king_02 }
                building_requirement_tribal = no
            }
            add_building = agot_warg_king_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_warg_king_01
                building_requirement_tribal = no
            }
            add_building = agot_warg_king_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_warg_king = yes
    }
    add_agot_greywater_watch_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_greywater_watch_01 }
                building_requirement_tribal = no
            }
            add_building = agot_greywater_watch_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_greywater_watch = yes
    }
    add_agot_rills_stables_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_rills_stables_01 }
                building_requirement_tribal = no
            }
            add_building = agot_rills_stables_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_rills_stables = yes
    }
    add_agot_oldtown_walls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_oldtown_walls_01 }
                building_requirement_tribal = no
            }
            add_building = agot_oldtown_walls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_oldtown_walls = yes
    }
    add_agot_seven_shrines_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_seven_shrines_01 }
                building_requirement_tribal = no
            }
            add_building = agot_seven_shrines_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_seven_shrines = yes
    }
    add_agot_goldengrove_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_goldengrove_01 }
                building_requirement_tribal = no
            }
            add_building = agot_goldengrove_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_goldengrove = yes
    }
    add_agot_bitterbridge_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_bitterbridge_01 }
                NOT = { has_building = agot_bitterbridge_02 }
                building_requirement_tribal = no
            }
            add_building = agot_bitterbridge_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_bitterbridge_01
                building_requirement_tribal = no
            }
            add_building = agot_bitterbridge_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_bitterbridge = yes
    }
    add_agot_red_lake_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_red_lake_01 }
                building_requirement_tribal = no
            }
            add_building = agot_red_lake_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_red_lake = yes
    }
    add_agot_tumbleton_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_tumbleton_01 }
            }
            add_building = agot_tumbleton_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_tumbleton = yes
    }
    add_agot_cider_hall_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_cider_hall_01 }
                building_requirement_tribal = no
            }
            add_building = agot_cider_hall_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_cider_hall = yes
    }
    add_agot_starpike_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_starpike_01 }
                building_requirement_tribal = no
            }
            add_building = agot_starpike_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_starpike = yes
    }
    add_agot_redwyne_port_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_redwyne_port_01 }
                building_requirement_tribal = no
            }
            add_building = agot_redwyne_port_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_redwyne_port = yes
    }
    add_agot_witchs_wood_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_witchs_wood_01 }
                building_requirement_tribal = no
            }
            add_building = agot_witchs_wood_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_witchs_wood = yes
    }
    add_agot_ashford_tourney_grounds_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ashford_tourney_grounds_01 }
                building_requirement_tribal = no
            }
            add_building = agot_ashford_tourney_grounds_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_ashford_tourney_grounds = yes
    }
    add_agot_brightwater_moat_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_brightwater_moat_01 }
                building_requirement_tribal = no
            }
            add_building = agot_brightwater_moat_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_brightwater_moat = yes
    }
    add_agot_grafton_keep_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_grafton_keep_01 }
                building_requirement_tribal = no
            }
            add_building = agot_grafton_keep_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_grafton_keep = yes
    }
    add_agot_maris_motherhouse_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_maris_motherhouse_01 }
                building_requirement_tribal = no
            }
            add_building = agot_maris_motherhouse_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_maris_motherhouse = yes
    }
    add_agot_runestone_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_runestone_01 }
                building_requirement_tribal = no
            }
            add_building = agot_runestone_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_runestone = yes
    }
    add_agot_gates_of_the_moon_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_gates_of_the_moon_01 }
                NOT = { has_building = agot_gates_of_the_moon_02 }
                building_requirement_tribal = no
            }
            add_building = agot_gates_of_the_moon_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_gates_of_the_moon_01
                building_requirement_tribal = no
            }
            add_building = agot_gates_of_the_moon_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_gates_of_the_moon = yes
    }
    add_agot_sisterton_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_sisterton_01 }
                building_requirement_tribal = no
            }
            add_building = agot_sisterton_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_sisterton = yes
    }
    add_agot_redfort_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_redfort_01 }
                building_requirement_tribal = no
            }
            add_building = agot_redfort_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_redfort = yes
    }
    add_agot_ironoaks_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ironoaks_01 }
                building_requirement_tribal = no
            }
            add_building = agot_ironoaks_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_ironoaks = yes
    }
    add_agot_strongsong_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_strongsong_01 }
                building_requirement_tribal = no
            }
            add_building = agot_strongsong_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_strongsong = yes
    }
    add_agot_ruthermont_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruthermont_01 }
                building_requirement_tribal = no
            }
            add_building = agot_ruthermont_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruthermont = yes
    }
    add_agot_upcliffs_haven_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_upcliffs_haven_01 }
                building_requirement_tribal = no
            }
            add_building = agot_upcliffs_haven_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_upcliffs_haven = yes
    }
    add_agot_hoare_castle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_hoare_castle_01 }
                building_requirement_tribal = no
            }
            add_building = agot_hoare_castle_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_hoare_castle = yes
    }
    add_agot_lonely_light_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_lonely_light_01 }
                building_requirement_tribal = no
            }
            add_building = agot_lonely_light_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_lonely_light = yes
    }
    add_agot_dragonmont_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_dragonmont_01 }
                building_requirement_tribal = no
            }
            add_building = agot_dragonmont_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_dragonmont = yes
    }
    add_agot_spicetown_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_spicetown_01 }
                building_requirement_tribal = no
            }
            add_building = agot_spicetown_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_spicetown = yes
    }
    add_agot_ruins_spicetown_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruins_spicetown_01 }
                NOT = { has_building = agot_ruins_spicetown_02 }
                building_requirement_tribal = no
            }
            add_building = agot_ruins_spicetown_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruins_spicetown_01
                building_requirement_tribal = no
            }
            add_building = agot_ruins_spicetown_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruins_spicetown = yes
    }
    add_agot_claw_isle_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_claw_isle_01 }
                building_requirement_tribal = no
            }
            add_building = agot_claw_isle_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_claw_isle = yes
    }
    add_agot_whispers_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_whispers_01 }
                building_requirement_tribal = no
            }
            add_building = agot_whispers_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_whispers = yes
    }
    add_agot_stonedance_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_stonedance_01 }
                building_requirement_tribal = no
            }
            add_building = agot_stonedance_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_stonedance = yes
    }
    add_agot_duskendale_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_duskendale_01 }
                building_requirement_tribal = no
            }
            add_building = agot_duskendale_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_duskendale = yes
    }
    add_agot_hightide_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_hightide_01 }
                building_requirement_tribal = no
            }
            add_building = agot_hightide_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_hightide = yes
    }
    add_agot_ruins_hightide_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_ruins_hightide_01 }
                NOT = { has_building = agot_ruins_hightide_02 }
                building_requirement_tribal = no
            }
            add_building = agot_ruins_hightide_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_ruins_hightide_01
                building_requirement_tribal = no
            }
            add_building = agot_ruins_hightide_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        Cmagic_building_upgrade_effect_agot_ruins_hightide = yes
    }
    add_agot_driftmark_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_driftmark_01 }
                building_requirement_tribal = no
            }
            add_building = agot_driftmark_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        Cmagic_building_upgrade_effect_agot_driftmark = yes
    }
    add_agot_urban_farms_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_urban_farms_01 }
                NOT = { has_building = agot_urban_farms_02 }
                NOT = { has_building = agot_urban_farms_03 }
                NOT = { has_building = agot_urban_farms_04 }
                NOT = { has_building = agot_urban_farms_05 }
                NOT = { has_building = agot_urban_farms_06 }
                NOT = { has_building = agot_urban_farms_07 }
                NOT = { has_building = agot_urban_farms_08 }
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    building_watermills_requirement_terrain = yes
                    building_windmills_requirement_terrain = yes
                    building_farm_estates_requirement_terrain = yes
                    building_orchards_requirement_terrain = yes
            }
            add_building = agot_urban_farms_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_urban_farms_01
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_urban_farms_02
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_urban_farms_03
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_urban_farms_04
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_urban_farms_05
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = agot_urban_farms_06
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = agot_urban_farms_07
                building_agot_urban_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = agot_urban_farms_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_agot_urban_farms = yes
    }
    add_agot_steppe_farms_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_steppe_farms_01 }
                NOT = { has_building = agot_steppe_farms_02 }
                NOT = { has_building = agot_steppe_farms_03 }
                NOT = { has_building = agot_steppe_farms_04 }
                NOT = { has_building = agot_steppe_farms_05 }
                NOT = { has_building = agot_steppe_farms_06 }
                NOT = { has_building = agot_steppe_farms_07 }
                NOT = { has_building = agot_steppe_farms_08 }
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
                    building_watermills_requirement_terrain = yes
                    building_windmills_requirement_terrain = yes
                    building_farm_estates_requirement_terrain = yes
                    building_orchards_requirement_terrain = yes
            }
            add_building = agot_steppe_farms_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_steppe_farms_01
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_steppe_farms_02
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_steppe_farms_03
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_steppe_farms_04
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_steppe_farms_05
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_guilds
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = agot_steppe_farms_06
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = agot_steppe_farms_07
                building_agot_steppe_farms_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = agot_steppe_farms_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_agot_steppe_farms = yes
    }
    add_agot_slave_camps_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = agot_slave_camps_01 }
                NOT = { has_building = agot_slave_camps_02 }
                NOT = { has_building = agot_slave_camps_03 }
                NOT = { has_building = agot_slave_camps_04 }
                NOT = { has_building = agot_slave_camps_05 }
                NOT = { has_building = agot_slave_camps_06 }
                NOT = { has_building = agot_slave_camps_07 }
                NOT = { has_building = agot_slave_camps_08 }
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = agot_slave_camps_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = agot_slave_camps_01
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = agot_slave_camps_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = agot_slave_camps_02
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = agot_slave_camps_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = agot_slave_camps_03
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = agot_slave_camps_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = agot_slave_camps_04
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = agot_slave_camps_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = agot_slave_camps_05
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = agot_slave_camps_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = agot_slave_camps_06
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = agot_slave_camps_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = agot_slave_camps_07
                building_agot_slave_camps_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = agot_slave_camps_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_agot_slave_camps = yes
    }
    add_agot_city_walls_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = city_walls_01 }
                NOT = { has_building = city_walls_02 }
                NOT = { has_building = city_walls_03 }
                NOT = { has_building = city_walls_04 }
            }
            add_building = city_walls_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = city_walls_01
                building_requirement_tribal = no
            }
            add_building = city_walls_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = city_walls_02
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_battlements
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = city_walls_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = city_walls_03
                building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_battlements
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_motte
                    building_requirement_tribal = no
            }
            add_building = city_walls_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        Cmagic_building_upgrade_effect_city_walls = yes
    }
    add_agot_godswood_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = godswood_01 }
                NOT = { has_building = godswood_02 }
                NOT = { has_building = godswood_03 }
                NOT = { has_building = godswood_04 }
                NOT = { has_building = godswood_05 }
                NOT = { has_building = godswood_06 }
                NOT = { has_building = godswood_07 }
                NOT = { has_building = godswood_08 }
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = godswood_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = godswood_01
                building_requirement_castle_city_church = { LEVEL = 01 }
            }
            add_building = godswood_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = godswood_02
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = godswood_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = godswood_03
                building_requirement_castle_city_church = { LEVEL = 02 }
            }
            add_building = godswood_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = godswood_04
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = godswood_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = godswood_05
                building_requirement_castle_city_church = { LEVEL = 03 }
            }
            add_building = godswood_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = godswood_06
                building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = godswood_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = godswood_07
                building_requirement_castle_city_church = { LEVEL = 04 }
            }
            add_building = godswood_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_godswood = yes
    }
add_agot_building_moat_building_effect = {
    if = {
        limit = {
            prev = { gold > cheap_building_tier_1_cost }
            has_free_building_slot = yes
            NOT = { has_building = building_moat_01 }
            NOT = { has_building = building_moat_02 }
            NOT = { has_building = building_moat_03 }
            NOT = { has_building = building_moat_04 }
            NOT = { has_building = building_moat_05 }
            NOT = { has_building = building_moat_06 }
            NOT = { has_building = building_moat_07 }
            NOT = { has_building = building_moat_08 }
            has_building = building_moat_01
            building_building_moat_requirement_terrain = yes
            building_requirement_tribal = no
        }
        add_building = building_moat_01
        prev = { remove_short_term_gold = cheap_building_tier_1_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_2_cost }
            has_building = building_moat_01
            has_building = building_moat_02
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_motte
            building_requirement_tribal = no
        }
        add_building = building_moat_02
        prev = { remove_short_term_gold = cheap_building_tier_2_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_3_cost }
            has_building = building_moat_02
            has_building = building_moat_03
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_battlements
            building_requirement_tribal = no
        }
        add_building = building_moat_03
        prev = { remove_short_term_gold = cheap_building_tier_3_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_4_cost }
            has_building = building_moat_03
            has_building = building_moat_04
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_battlements
            building_requirement_tribal = no
        }
        add_building = building_moat_04
        prev = { remove_short_term_gold = cheap_building_tier_4_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_5_cost }
            has_building = building_moat_04
            has_building = building_moat_05
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_hoardings
            building_requirement_tribal = no
        }
        add_building = building_moat_05
        prev = { remove_short_term_gold = cheap_building_tier_5_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_6_cost }
            has_building = building_moat_05
            has_building = building_moat_06
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_hoardings
            building_requirement_tribal = no
        }
        add_building = building_moat_06
        prev = { remove_short_term_gold = cheap_building_tier_6_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_7_cost }
            has_building = building_moat_06
            has_building = building_moat_07
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_machicolations
            building_requirement_tribal = no
        }
        add_building = building_moat_07
        prev = { remove_short_term_gold = cheap_building_tier_7_cost }
    }
    if = {
        limit = {
            prev = { gold > cheap_building_tier_8_cost }
            has_building = building_moat_07
            has_building = building_moat_08
            building_building_moat_requirement_terrain = yes
            has_innovation = innovation_machicolations
            building_requirement_tribal = no
        }
        add_building = building_moat_08
        prev = { remove_short_term_gold = cheap_building_tier_8_cost }
    }
    Cmagic_building_upgrade_effect_building_moat = yes
    }
    add_agot_apiaries_building_effect = {
        if = {
            limit = {
                prev = { gold > cheap_building_tier_1_cost }
                has_free_building_slot = yes
                NOT = { has_building = apiaries_01 }
                NOT = { has_building = apiaries_02 }
                NOT = { has_building = apiaries_03 }
                NOT = { has_building = apiaries_04 }
                NOT = { has_building = apiaries_05 }
                NOT = { has_building = apiaries_06 }
                NOT = { has_building = apiaries_07 }
                NOT = { has_building = apiaries_08 }
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    building_requirement_tribal = no
            }
            add_building = apiaries_01
            prev = { remove_short_term_gold = cheap_building_tier_1_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_2_cost }
                has_building = apiaries_01
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 01 }
                    has_innovation = innovation_crop_rotation
                    building_requirement_tribal = no
            }
            add_building = apiaries_02
            prev = { remove_short_term_gold = cheap_building_tier_2_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_3_cost }
                has_building = apiaries_02
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = apiaries_03
            prev = { remove_short_term_gold = cheap_building_tier_3_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_4_cost }
                has_building = apiaries_03
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 02 }
                    has_innovation = innovation_manorialism
                    building_requirement_tribal = no
            }
            add_building = apiaries_04
            prev = { remove_short_term_gold = cheap_building_tier_4_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_5_cost }
                has_building = apiaries_04
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
                    building_requirement_tribal = no
            }
            add_building = apiaries_05
            prev = { remove_short_term_gold = cheap_building_tier_5_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_6_cost }
                has_building = apiaries_05
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 03 }
                    has_innovation = innovation_windmills
                    building_requirement_tribal = no
            }
            add_building = apiaries_06
            prev = { remove_short_term_gold = cheap_building_tier_6_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_7_cost }
                has_building = apiaries_06
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = apiaries_07
            prev = { remove_short_term_gold = cheap_building_tier_7_cost }
        }
        if = {
            limit = {
                prev = { gold > cheap_building_tier_8_cost }
                has_building = apiaries_07
                building_apiaries_requirement_terrain = yes
                    building_requirement_castle_city_church = { LEVEL = 04 }
                    has_innovation = innovation_cranes
                    building_requirement_tribal = no
            }
            add_building = apiaries_08
            prev = { remove_short_term_gold = cheap_building_tier_8_cost }
        }
        Cmagic_building_upgrade_effect_apiaries = yes
    }
# }
